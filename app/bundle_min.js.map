{"version":3,"sources":["node_modules/browser-pack/_prelude.js","js/app.js","js/modules/promiseTest.js","node_modules/Blazy/blazy.js","node_modules/es6-promise/dist/es6-promise.js","node_modules/fastdom/fastdom.js","node_modules/process/browser.js"],"names":["polyfill_qSA_SupportQ","supportsQuerySelectors","document","querySelector","querySelectorAll","console","log","forEach","src","script","createElement","async","head","appendChild","TimerX99","isFunction","functionToCheck","getType","toString","call","isValidDate","date","d","i_fSpace","indexOf","data_str","substr","matches","exec","d_","m","y","composedDate","Date","getDate","getMonth","getFullYear","findParent_firstMatchClassName","el","className","parentNode","priv8eMX99","_initCountDown","id","endTime","show","updateClock","t","_getRemainingTime","dayV_Wrap","innerHTML","days","slice","hrV_Wrap","hours","minV_Wrap","minutes","secV_Wrap","seconds","total","clearInterval","timeInterval","timerDomEle","style","display","window","location","reload","parse","Math","floor","getElementById","this_timerMainWrapperDOM","opacity","setInterval","publicMX99","initCountDwnX99","startEnd_TargetID_typeArr","Array","length","i","len","this_startEnd","startDate","endDate","domTargetID","callback","startDate_ms","endDate_ms","currDate_ms","all_timerOptions_ajax","create_all_timerOptions","data","item","this_targetTimerID","categoryName","startTimeHrs","startTimeMin","endTimeHrs","endTimeMin","this_startTimeHrs","this_startTimeMin","this_endTimeHrs","this_endTimeMin","this_item_startTime","FullDate","today_mmddyyyy","this_item_endTime","newArr_option","push","public","_d","date_today","data_today","month_today","year_today","promise","require","AjaxStart","fastdom","Blazy","MobPlatform_M","mobileSite_running","mobileSite_TrueX999","currURLX","mob_preURL_str","String","Query_dom_categoryNames","parentWrapper_id","dom_categoryNames_arr","parentWrapper","offers_WrapperX99","getElementsByClassName","getAttribute","GetInner_","priceRange_domID","firstURL","priceRange_domID_setfn","firstURL_setfn","url","AjaxPageApp","useDataFromFirstAjax","mainArray_X","sortOrder","e","arr","pogId","pogIdList_arr","newItem_X","offerName","offerImageUrl","offerMobImageUrl","offerPageUrl","offerMobPageUrl","tagLine","priceSlab","_vendorCode","_discount","_avgRating","_noOfReviews","_image","_price","_displayPrice","_soldOut","_highlights","_offers","_labelUrl","mobileSite_TrueX999_var","TimerOffer","unique_categoryNames","getUniqueCategoryNames","htmlContent_arr","filterBy","all_pogIds","join","admin","preventCache_suffix","getTime","XMLHTTP_reqOn","then","JSON","update_mainArray_X","update_htmlContent_arr_by_sortOrder","SetHTML","init_setToMainWrapper","htmlContent_multi_arr","update_htmlContent_arr_by_dom_categoryNames","init_setToEachID","DelegateClick_timerOfferUnit","update_htmlContent_arr_by_priceRange_domID_edit","init_setToEachID_filterBy_price","index","array","minPriceVal","maxPriceVal","_item","_index","_arr","this_data","_e","vendorCode","discount","avgRating","noOfReviews","image","price","displayPrice","soldOut","highlights","offers","labelUrl","_sdGold","sdGold","all_categoryNames_arr","reduce","acc","current_catName","j","offerUnit","addEventListener","windowWidth","innerWidth","documentElement","clientWidth","body","this_offerUnit","this","this_liveTimerOffer_href","children","open","href","preventDefault","setToEachID","default_opts","get_priceRange_domID","init","options","response","catch","err","setHTML_offerUpcoming_upcoming","setHTML_offerUnit_priceTaglineWrap_rel","priceOrTagline_dom","offerUnit_priceTaglineWrap_rel","tagLineFragments","priceContXFragments","setHTML_wrap_saveAmt","wrap_saveAmt","wrap_saveAmt_closing","saveAmt","setHTML_offerUnit_href_afterWrap","setHTML_offerUnit_href_afterWrap_closing","setHTML_offerUnit_nonImgContWrap","setHTML_offerUnit_nonImgContWrap_closing","setHTML_offerUnit_imgWrap_sdPlusInc_rel","setHTML_offerUnit_imgWrapOnly","setHTML_offerUnit_href","aLink_Wrap","setHTML_offerUnit_href_closing","setHTML_offerUnit_title","setHTML_offerUnit_ratingWrap","ifRatingDefined_dom","ratingFragments","reviewsFragments","rating_Wrap","setRating","val","val_Stringed","widthFactor","width","round","setRating_V","setHTML_offerUnit_discountWrap","_showDiscount","OfferDiscount_Wrap","OfferDiscount_Discount_Wrap","_hideDiscount","dod_showDiscountUnless0_dom","item_priceSlab","toLowerCase","updateDiscount_IfMatchX","match","set_SoldOUt_ModuleX99","soldOut_Wrap","finalHTMLContent","default_setToEachID_opts","wrapper_id","opts","this_innerArr","offer_htmlContent","map","catalogId","supc","supcs","unit_htmlContent","mutate","wrapper_dom","loadInvisible","socialShareX_Module","mainWrapperX99","ele","whatsappX","preURLs","facebookX","twitterX","googleplusX","pinterestX","finalURL","target","twHastag","classList","contains","W_width","W_height","innerHeight","clientHeight","Promise","resolve","reject","request","XMLHttpRequest","onload","status","Error","statusText","oneerror","send","module","exports","root","blazy","define","amd","initialize","self","util","_util","elements","toArray","selector","count","destroyed","container","each","object","bindEvent","validateT","saveViewportOffsetT","validate","element","elementInView","hasClass","successClass","load","splice","destroy","rect","getBoundingClientRect","right","_viewport","left","bottom","top","loadElement","force","offsetWidth","offsetHeight","dataSrc","_source","dataSrcSplitted","split","separator","_isRetina","isImage","equal","undefined","img","Image","onErrorHandler","error","addClass","errorClass","unbindEvent","onLoadHandler","setSrc","handleSource","_attrSrcset","srcset","parent","getElementsByTagName","source","backgroundImage","itemLoaded","_attrSrc","success","removeAttribute","breakpoints","attr","dataAttr","str","nodeName","nodelist","unshift","saveViewportOffset","offset","type","fn","attachEvent","detachEvent","removeEventListener","l","throttle","minDelay","scope","lastCall","now","apply","arguments","s","createStyleSheet","r","c","a","all","replace","addRule","currentStyle","k","removeRule","validateDelay","saveViewportOffsetDelay","devicePixelRatio","revalidate","opt","screen","setTimeout","lib$es6$promise$utils$$objectOrFunction","x","lib$es6$promise$utils$$isFunction","lib$es6$promise$asap$$setScheduler","scheduleFn","lib$es6$promise$asap$$customSchedulerFn","lib$es6$promise$asap$$setAsap","asapFn","lib$es6$promise$asap$$asap","lib$es6$promise$asap$$useNextTick","process","nextTick","lib$es6$promise$asap$$flush","lib$es6$promise$asap$$useVertxTimer","lib$es6$promise$asap$$vertxNext","lib$es6$promise$asap$$useMutationObserver","iterations","observer","lib$es6$promise$asap$$BrowserMutationObserver","node","createTextNode","observe","characterData","lib$es6$promise$asap$$useMessageChannel","channel","MessageChannel","port1","onmessage","port2","postMessage","lib$es6$promise$asap$$useSetTimeout","lib$es6$promise$asap$$len","lib$es6$promise$asap$$queue","arg","lib$es6$promise$asap$$attemptVertx","vertx","runOnLoop","runOnContext","lib$es6$promise$then$$then","onFulfillment","onRejection","child","constructor","lib$es6$promise$$internal$$noop","lib$es6$promise$$internal$$PROMISE_ID","lib$es6$promise$$internal$$makePromise","state","_state","lib$es6$promise$$internal$$invokeCallback","_result","lib$es6$promise$$internal$$subscribe","lib$es6$promise$promise$resolve$$resolve","Constructor","lib$es6$promise$$internal$$resolve","lib$es6$promise$$internal$$selfFulfillment","TypeError","lib$es6$promise$$internal$$cannotReturnOwn","lib$es6$promise$$internal$$getThen","lib$es6$promise$$internal$$GET_THEN_ERROR","lib$es6$promise$$internal$$tryThen","value","fulfillmentHandler","rejectionHandler","lib$es6$promise$$internal$$handleForeignThenable","thenable","sealed","lib$es6$promise$$internal$$fulfill","reason","lib$es6$promise$$internal$$reject","_label","lib$es6$promise$$internal$$handleOwnThenable","lib$es6$promise$$internal$$FULFILLED","lib$es6$promise$$internal$$REJECTED","lib$es6$promise$$internal$$handleMaybeThenable","maybeThenable","lib$es6$promise$then$$default","lib$es6$promise$promise$resolve$$default","lib$es6$promise$$internal$$publishRejection","_onerror","lib$es6$promise$$internal$$publish","lib$es6$promise$$internal$$PENDING","_subscribers","subscribers","settled","detail","lib$es6$promise$$internal$$ErrorObject","lib$es6$promise$$internal$$tryCatch","lib$es6$promise$$internal$$TRY_CATCH_ERROR","succeeded","failed","hasCallback","lib$es6$promise$$internal$$initializePromise","resolver","lib$es6$promise$$internal$$nextId","lib$es6$promise$$internal$$id","lib$es6$promise$promise$all$$all","entries","lib$es6$promise$enumerator$$default","lib$es6$promise$promise$race$$race","lib$es6$promise$utils$$isArray","lib$es6$promise$promise$reject$$reject","lib$es6$promise$promise$$needsResolver","lib$es6$promise$promise$$needsNew","lib$es6$promise$promise$$Promise","lib$es6$promise$enumerator$$Enumerator","input","_instanceConstructor","_input","_remaining","_enumerate","lib$es6$promise$enumerator$$validationError","lib$es6$promise$polyfill$$polyfill","local","global","Function","P","Object","prototype","cast","lib$es6$promise$promise$$default","lib$es6$promise$utils$$_isArray","isArray","lib$es6$promise$asap$$scheduleFlush","lib$es6$promise$asap$$browserWindow","lib$es6$promise$asap$$browserGlobal","MutationObserver","WebKitMutationObserver","lib$es6$promise$asap$$isNode","lib$es6$promise$asap$$isWorker","Uint8ClampedArray","importScripts","random","substring","lib$es6$promise$promise$all$$default","lib$es6$promise$promise$race$$default","lib$es6$promise$promise$reject$$default","race","_setScheduler","_setAsap","_asap","_eachEntry","entry","_settledAt","_willSettleAt","enumerator","lib$es6$promise$polyfill$$default","lib$es6$promise$umd$$ES6Promise","polyfill","win","FastDom","reads","writes","raf","bind","debug","scheduleFlush","scheduled","flush","runTasks","message","tasks","task","shift","remove","mixin","key","hasOwnProperty","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","msRequestAnimationFrame","cb","measure","ctx","clear","extend","props","create","defaultSetTimout","defaultClearTimeout","runTimeout","fun","cachedSetTimeout","runClearTimeout","marker","cachedClearTimeout","clearTimeout","cleanUpNextTick","draining","currentQueue","queue","concat","queueIndex","drainQueue","timeout","run","Item","noop","args","title","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","binding","name","cwd","chdir","dir","umask"],"mappings":"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","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","/* run polyfill if required */\r\nfunction polyfill_qSA_SupportQ() {\r\n    if (supportsQuerySelectors) {\r\n        console.log('querySelector && querySelectorAll are supported!');\r\n    } else {\r\n        //download and polyfill it\r\n        ['https://cdn.polyfill.io/v2/polyfill.min.js'].forEach(function(src) {\r\n            var script = document.createElement('script');\r\n            script.src = src;\r\n            script.async = true;\r\n            document.head.appendChild(script);\r\n        });\r\n    }\r\n    function supportsQuerySelectors() {\r\n        return (document.querySelector && document.querySelectorAll) !== null;\r\n    }\r\n}\r\npolyfill_qSA_SupportQ();\r\n/* end run polyfill if required */\r\n\r\n/* start TimerX99 module and fn */\r\nvar TimerX99 = (function() {\r\n    var priv8eMX99 = {};\r\n    priv8eMX99._initCountDown = function(id, endTime, show) {\r\n        _getRemainingTime = function(endTime) {\r\n            var t = Date.parse(endTime) - Date.parse(new Date());\r\n            var seconds = Math.floor((t / 1000) % 60);\r\n            var minutes = Math.floor((t / 1000 / 60) % 60);\r\n            var hours = Math.floor((t / (1000 * 60 * 60)) % 24);\r\n            var days = Math.floor(t / (1000 * 60 * 60 * 24));\r\n            return {\r\n                'total': t,\r\n                'days': days,\r\n                'hours': hours,\r\n                'minutes': minutes,\r\n                'seconds': seconds\r\n            };\r\n        };\r\n        if (!id || id === null) {\r\n            console.log('ID not found in DOM!');\r\n            return;\r\n        }\r\n        var timerDomEle = document.getElementById(id);\r\n        if (show == 'false' || show === false) {\r\n            timerDomEle.style.display = 'none';\r\n        } else {\r\n\r\n          timerDomEle.style.display = 'block';\r\n          /* hide timerMainWrapperDOM */\r\n          //var get_domTargetID = document.getElementById(domTargetID);\r\n          var this_timerMainWrapperDOM = findParent_firstMatchClassName(timerDomEle, 'timerX99_UnitWrap_rel');\r\n          if(this_timerMainWrapperDOM !== null){\r\n            //console.log('this_timerMainWrapperDOM: ', this_timerMainWrapperDOM );\r\n            this_timerMainWrapperDOM.style.opacity = 1;\r\n          }\r\n          /* /hide timerMainWrapperDOM */\r\n        }\r\n        var dayV_Wrap = timerDomEle.querySelector('.dayV_timerX');\r\n        var hrV_Wrap = timerDomEle.querySelector('.hrV_timerX');\r\n        var minV_Wrap = timerDomEle.querySelector('.minV_timerX');\r\n        var secV_Wrap = timerDomEle.querySelector('.secV_timerX');\r\n\r\n        function updateClock() {\r\n            var t = _getRemainingTime(endTime);\r\n            dayV_Wrap.innerHTML = ('0' + t.days).slice(-2);\r\n            hrV_Wrap.innerHTML = ('0' + t.hours).slice(-2);\r\n            minV_Wrap.innerHTML = ('0' + t.minutes).slice(-2);\r\n            secV_Wrap.innerHTML = ('0' + t.seconds).slice(-2);\r\n            if (t.total <= 0) {\r\n                clearInterval(timeInterval);\r\n                if (timerDomEle) {\r\n                    console.log('clearInterval TimerX99');\r\n                    timerDomEle.style.display = 'none';\r\n                } else {\r\n                    console.log('ID not found in DOM!');\r\n                }\r\n                //console.log('timer completed');\r\n                window.location.reload(true);\r\n            }\r\n        }\r\n        updateClock();\r\n        var timeInterval = setInterval(updateClock, 1000);\r\n    };\r\n    ///* * *public methods\r\n    var publicMX99 = {};\r\n    publicMX99.initCountDwnX99 = function(startEnd_TargetID_typeArr) {\r\n        if (startEnd_TargetID_typeArr instanceof Array) {\r\n            if (startEnd_TargetID_typeArr.length < 1) {\r\n                console.log('define settings in arg Array');\r\n            } else {\r\n                for (var i = 0, len = startEnd_TargetID_typeArr.length; i < len; i++) {\r\n                    var this_startEnd = startEnd_TargetID_typeArr[i];\r\n                    var startDate = this_startEnd[0] + ' GMT+0530';\r\n                    var endDate = this_startEnd[1] + ' GMT+0530';\r\n                    var domTargetID = this_startEnd[2];\r\n                    var callback = this_startEnd[3];\r\n                    var show = this_startEnd[4];\r\n                    if (!isValidDate(startDate)) {\r\n                        console.log('invalid date format, it must be MM/DD/YYYY');\r\n                        return;\r\n                    }\r\n                    if (!isValidDate(endDate)) {\r\n                        console.log('invalid date format, it must be MM/DD/YYYY');\r\n                        return;\r\n                    }\r\n                    if (callback === null) {\r\n                        console.log('no callback defined');\r\n                    }\r\n                    if (show == 'false' || show === false) {\r\n                        console.log('hide this timer');\r\n                    } else if (!show || show.length < 1) {\r\n                        //console.log('show undefined but show timer anyway');\r\n                    } else {\r\n                        console.log('show this timer');\r\n                    }\r\n                    var startDate_ms = new Date(startDate);\r\n                    var endDate_ms = new Date(endDate);\r\n                    var currDate_ms = new Date();\r\n                    if (startDate_ms > endDate_ms) {\r\n                        console.log('error in startDate, startDate is more than end Date');\r\n                    }\r\n                    if (startDate_ms < currDate_ms) {\r\n                        //console.log('startDate: ' + startDate);\r\n                    }\r\n                    if (endDate_ms > currDate_ms && currDate_ms >= startDate_ms) {\r\n                        priv8eMX99._initCountDown(domTargetID, endDate, show);\r\n                        if (callback) {\r\n                            if (!isFunction(callback)) {\r\n                                console.log('callback must be a function expression like this:' + '\\n' + 'function myCallback(){ //do something }');\r\n                                return;\r\n                            } else {\r\n                                console.log('running callback:');\r\n                                callback();\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            console.log('arg must be an Array');\r\n        }\r\n    };\r\n    function isFunction(functionToCheck) {\r\n        var getType = {};\r\n        return functionToCheck && getType.toString.call(functionToCheck) === '[object Function]';\r\n    }\r\n    function isValidDate(date) {\r\n        var d = date;\r\n        var i_fSpace = d.indexOf(' ');\r\n        var data_str = d.substr(0, i_fSpace);\r\n        var matches = /^(\\d{1,2})[-\\/](\\d{1,2})[-\\/](\\d{4})$/.exec(data_str);\r\n        if (matches === null) return false;\r\n        var d_ = matches[2];\r\n        var m = matches[1] - 1;\r\n        var y = matches[3];\r\n        var composedDate = new Date(y, m, d_);\r\n        return composedDate.getDate() == d_ && composedDate.getMonth() == m && composedDate.getFullYear() == y;\r\n    }\r\n    publicMX99.all_timerOptions_ajax = [];\r\n    publicMX99.create_all_timerOptions = function (data){\r\n      data.forEach(function(item){\r\n      var this_targetTimerID = item.categoryName + '_timer';\r\n      //categoryNames of TimerOffers MUST include the string 'TimerOffer'\r\n      //example \"liveTimerOffer_01\"\r\n      if(this_targetTimerID.indexOf('TimerOffer') < 0){\r\n        //console.log('no timerOffers found!');\r\n        return;\r\n      }\r\n      if(\r\n          item.startTimeHrs === 0 &&\r\n          item.startTimeMin === 0 &&\r\n          item.endTimeHrs === 23 &&\r\n          item.endTimeMin === 59\r\n        ){\r\n          console.log(\"don't run createTimerOptions, return\");\r\n          return;\r\n        }\r\n\r\n      var this_startTimeHrs = ('0' + item.startTimeHrs).slice(-2);\r\n      var this_startTimeMin = ('0' + item.startTimeMin).slice(-2);\r\n      var this_endTimeHrs = ('0' + item.endTimeHrs).slice(-2);\r\n      var this_endTimeMin = ('0' + item.endTimeMin).slice(-2);\r\n      var this_item_startTime = FullDate.today_mmddyyyy + ' ' + this_startTimeHrs + ':' + this_startTimeMin + ':00';\r\n      var this_item_endTime = FullDate.today_mmddyyyy + ' ' + this_endTimeHrs + ':' + this_endTimeMin + ':00';\r\n      var newArr_option = [];\r\n      newArr_option.push(this_item_startTime, this_item_endTime, this_targetTimerID );\r\n      if(!TimerX99.all_timerOptions_ajax || !TimerX99){\r\n        console.log('TimerX99 Module missing!');\r\n      }\r\n      TimerX99.all_timerOptions_ajax.push(newArr_option);\r\n      //console.log('allTimerOptions: ', newArr_option);\r\n    });\r\n  };\r\n    return publicMX99;\r\n    //helper\r\n    function findParent_firstMatchClassName(el, className) {\r\n      while (el.parentNode) {\r\n          el = el.parentNode;\r\n          if (el.className === className)\r\n                return el;\r\n      }\r\n      return null;\r\n    }\r\n})();\r\n//TimerX99.initCountDwnX99(startEnd_TargetID_typeArr);\r\nvar FullDate= (function(){\r\n  var public = {};\r\n  var _d = new Date();\r\n  var date_today= _d.getDate();\r\n      data_today = ('0' + date_today).slice(-2);\r\n  var month_today = _d.getMonth() + 1;\r\n      month_today = ('0' + month_today).slice(-2);\r\n  var year_today = '2016';\r\n  public.today_mmddyyyy = month_today + '/' + date_today + '/' + year_today;\r\n  //expose FullDate.today_mmddyyyy\r\n  return public;\r\n})();\r\n/* end TimerX99 module and fn */\r\n\r\nvar promise = require('es6-promise');\r\nvar AjaxStart = require('./modules/promiseTest.js');\r\nvar fastdom = require('fastdom');\r\nvar Blazy = require('Blazy');\r\n//reqd\r\nvar MobPlatform_M = (function(){\r\n    var public = {};\r\n    public.mobileSite_running = false;\r\n    public.mobileSite_TrueX999 = function(){\r\n        var currURLX = window.location;\r\n        var mob_preURL_str = 'm.snapdeal.com';\r\n        currURLX = String(currURLX);\r\n        public.mobileSite_running = (currURLX.indexOf(mob_preURL_str) > 0)? true: false;\r\n        return public.mobileSite_running;\r\n    };\r\n    return public;\r\n})();\r\n//reqd\r\nvar Query_dom_categoryNames = (function(){\r\n  var public = {};\r\n  public.parentWrapper_id = 'mainWrapperX_newX999';\r\n   //get dom_categoryNames_arr\r\n  public.dom_categoryNames_arr = function get_dom_categoryNames_arr(){\r\n    var parentWrapper = document.getElementById(public.parentWrapper_id);\r\n    var dom_categoryNames_arr = [];\r\n    var offers_WrapperX99 = parentWrapper.getElementsByClassName('offers_WrapperX99');\r\n    for(var i=0; i<offers_WrapperX99.length; i++){\r\n      dom_categoryNames_arr.push(offers_WrapperX99[i].getAttribute('id'));\r\n    }\r\n    return dom_categoryNames_arr;\r\n  };\r\n  return public;\r\n})();\r\n\r\nvar GetInner_ = (function(){\r\n  var public = {};\r\n  public.priceRange_domID = null;\r\n  public.firstURL = null;\r\n  public.priceRange_domID_setfn = function(priceRange_domID){\r\n    public.priceRange_domID = priceRange_domID;\r\n  };\r\n  public.firstURL_setfn = function(url){\r\n    public.firstURL = url;\r\n  };\r\n  return public;\r\n})();\r\n//expose n use GetInner_.priceRange_domID;\r\n//expose n use GetInner_.firstURL;\r\n\r\n//returns Query_dom_categoryNames.dom_categoryNames_arr\r\nvar AjaxPageApp = (function(){\r\n    //check if mobileSite running\r\n    var mobileSite_TrueX999_var = MobPlatform_M.mobileSite_TrueX999();\r\n        console.log('mobileSite_running: ' + mobileSite_TrueX999_var);\r\n      //default options for filterBy:'categoryNames' & setToEachID:true\r\n      /*var default_opts = {\r\n        url: '',//always define\r\n        parentWrapper_id: Query_dom_categoryNames.parentWrapper_id,//always define\r\n        filterBy:'categoryNames',//'categoryNames' or 'price'\r\n        setToEachID: true,//set to ids in dom ~ matching with categoryNames\r\n        sortOrder: null,//categoryNames n their sequence: setToEachID:false\r\n        priceRange_domID: null,\r\n        TimerOffer: false\r\n      };*/\r\n\r\n      //default options setToParentWrapper for filterBy:'categoryNames' & setToEachID:false ~ setToParentWrapper MUST define sortOrder\r\n      /*var default_opts = {\r\n        url: '',//always define\r\n        parentWrapper_id: Query_dom_categoryNames.parentWrapper_id,//always define\r\n        filterBy:'categoryNames',//'categoryNames' or 'price'\r\n        setToEachID: false,//set to ids in dom ~ matching with categoryNames\r\n        sortOrder: ['a299', 'a499', 'a799', 'a1299', 'a1999', 'a2999'],//categoryNames n their sequence: setToEachID:false\r\n        priceRange_domID: null\r\n      };*/\r\n\r\n      //default options for filterBy:'price' & setToEachID:true ~ predefined DOM with ids matching the categoryNames\r\n      /*var default_opts = {\r\n        url: '',  //always define\r\n        parentWrapper_id: Query_dom_categoryNames.parentWrapper_id,//always define\r\n        filterBy:'price',//'categoryNames' or 'price'\r\n        setToEachID: true,//set to ids in dom ~ matching with categoryNames\r\n        sortOrder: ['a299', 'a499', 'a799', 'a1299', 'a1999', 'a2999'],//categoryNames n their sequence: setToEachID:false\r\n        priceRange_domID: [\r\n                          //[min_price, max_price, id_dom],\r\n                            [0, 299, 'a299'],\r\n                            [299, 499, 'a499'],\r\n                            [499, 799, 'a799'],\r\n                            [799, 1299, 'a1299'],\r\n                            [1299, 1999, 'a1999'],\r\n                            [1999, 2999, 'a2999']\r\n                          ],\r\n        TimerOffer: false\r\n      };*/\r\n\r\n      //default options for filterBy:'categoryNames' & setToEachID:true\r\n      var default_opts = {\r\n        url: '',//always define\r\n        parentWrapper_id: Query_dom_categoryNames.parentWrapper_id,//always define\r\n        filterBy:'categoryNames',//'categoryNames' or 'price'\r\n        setToEachID: true,//set to ids in dom ~ matching with categoryNames\r\n        sortOrder: null,//categoryNames n their sequence: setToEachID:false\r\n        priceRange_domID: null,\r\n        TimerOffer: false//check if TimerOffer\r\n      };\r\n\r\n    //global inside AjaxPageApp\r\n    var parentWrapper_id = default_opts.parentWrapper_id;\r\n    var mainArray_X = [];\r\n    var pogIdList_arr = [];\r\n    var htmlContent_arr= [];\r\n    var unique_categoryNames;\r\n    var dom_categoryNames_arr = Query_dom_categoryNames.dom_categoryNames_arr();\r\n    var setToEachID;\r\n    var filterBy;\r\n    var priceRange_domID;\r\n    var sortOrder;\r\n    var TimerOffer;\r\n    //public obj to be returned\r\n    var public = {};\r\n    public.get_priceRange_domID = null;\r\n    public.init = function(options){\r\n      if(!options){\r\n          options = {};\r\n      }\r\n        //internal options caching and conditions\r\n        var url = options.url ? options.url:default_opts.url;\r\n            filterBy = options.filterBy ? options.filterBy:default_opts.filterBy;\r\n            sortOrder = options.sortOrder ? options.sortOrder:default_opts.sortOrder;\r\n            setToEachID = options.setToEachID ? options.setToEachID:default_opts.setToEachID;\r\n            priceRange_domID = options.priceRange_domID ? options.priceRange_domID:default_opts.priceRange_domID;\r\n            TimerOffer = options.TimerOffer ? options.TimerOffer:default_opts.TimerOffer;\r\n\r\n        if(TimerOffer !== false) {\r\n          console.log('TimerOffers: true');\r\n        }\r\n        //E X P O S I N G   priceRange_domID\r\n        GetInner_.priceRange_domID_setfn(priceRange_domID);\r\n        //E X P O S I N G  firstURL\r\n        GetInner_.firstURL_setfn(url);\r\n        //if filterByCategoryNames\r\n        if(filterBy){\r\n          console.log('filterBy: ', filterBy);\r\n        }\r\n        if(setToEachID === false){\r\n          if(typeof filterBy == 'undefined'){\r\n            console.log('please define filterBy Options');\r\n          }\r\n          if(typeof sortOrder == 'undefined'){\r\n              console.log('please define sortOrder Options');\r\n          }\r\n          if(filterBy == 'categoryNames'){\r\n            if(sortOrder === null){\r\n              console.log('please define sortOrder Options');\r\n            }\r\n          }\r\n          if(filterBy == 'price'){\r\n              console.log('setToEachID must be true for filterBy Price');\r\n              return;\r\n          }\r\n        }\r\n        //if we want to append to predefined domIDs\r\n        else {\r\n          sortOrder = null;//set to null\r\n          console.log('setToEachID is true, sortOrder was set to null!');\r\n\r\n          if(filterBy == 'price'){\r\n            if(setToEachID === false){\r\n              console.log('setToEachID must be true for filterBy Price');\r\n            }\r\n            if(priceRange_domID === null)\r\n            console.log('please define priceRange_domID Options');\r\n          }\r\n        }\r\n        /* preventCache */\r\n        var preventCache_suffix = new Date().getTime();\r\n        url = url+'?timeID=' + preventCache_suffix;\r\n        /* preventCache */\r\n        AjaxStart.XMLHTTP_reqOn(url).then(function(response){\r\n            var data = JSON.parse(response);\r\n            useDataFromFirstAjax(data, mainArray_X, sortOrder);\r\n            //handle error for first ajax\r\n            }).catch(function(err){\r\n              console.log(err);\r\n            });\r\n      //end of init\r\n      };\r\n\r\n\r\n\r\n    return public;\r\n    //end of AjaxPageApp\r\n    //internal scopped util functions\r\n    function useDataFromFirstAjax(data, mainArray_X, sortOrder) {\r\n        data.forEach(function(e, i, arr) {\r\n            if (e.pogId) {\r\n                pogIdList_arr.push(e.pogId);\r\n            }\r\n            e.categoryName = !e.categoryName? 'undefined': e.categoryName;\r\n            var newItem_X = {\r\n                categoryName: e.categoryName,\r\n                pogId: e.pogId,\r\n                offerName: e.offerName,\r\n                offerImageUrl: e.offerImageUrl,\r\n                offerMobImageUrl: e.offerMobImageUrl,\r\n                offerPageUrl: e.offerPageUrl,\r\n                offerMobPageUrl: e.offerMobPageUrl,\r\n                tagLine: e.tagLine,\r\n                priceSlab: e.priceSlab,\r\n                _vendorCode: e._vendorCode,\r\n                _discount: e._discount,\r\n                _avgRating: e._avgRating,\r\n                _noOfReviews: e._noOfReviews,\r\n                _image: e._image,\r\n                _price: e._price,\r\n                _displayPrice: e._displayPrice,\r\n                _soldOut: e._soldOut,\r\n                _highlights: e._highlights,\r\n                _offers: e._offers,\r\n                _labelUrl: e._labelUrl\r\n            };\r\n            if (mobileSite_TrueX999_var) {\r\n                newItem_X.offerImageUrl = e.offerMobImageUrl;\r\n                newItem_X.offerPageUrl = e.offerMobPageUrl;\r\n            }\r\n            mainArray_X.push(newItem_X);\r\n            //create_all_timerOptions\r\n            if(TimerOffer !== false) {\r\n              //console.log('TimerOffers true');\r\n                TimerX99.create_all_timerOptions(data);\r\n            }\r\n\r\n        });\r\n        //get unique_categoryNames\r\n        unique_categoryNames = getUniqueCategoryNames(mainArray_X);\r\n        if(sortOrder && sortOrder !== null){\r\n          unique_categoryNames.forEach(function(){\r\n              htmlContent_arr.push([]);\r\n          });\r\n        }\r\n        else {\r\n          if(filterBy == 'categoryNames'){\r\n            dom_categoryNames_arr.forEach(function(){\r\n                htmlContent_arr.push([]);\r\n            });\r\n          }\r\n          else if(filterBy == 'price'){\r\n            priceRange_domID.forEach(function(){\r\n                htmlContent_arr.push([]);\r\n            });\r\n            //console.log('filterBy: price');\r\n            //console.log('updated htmlContent_arr.length: ', htmlContent_arr.length);\r\n          }\r\n\r\n        }\r\n\r\n        if(!pogIdList_arr.length || pogIdList_arr.length < 1){\r\n          return ;\r\n        }\r\n        else {\r\n\r\n          console.log('url first: ', GetInner_.firstURL);\r\n\r\n          // if not local\r\n          if(GetInner_.firstURL.indexOf('.json') < 0)\r\n          {\r\n            //push an extry empty string to ensure last pogId is ALWAYS rendered\r\n            console.log('live');\r\n            pogIdList_arr.push(' ');\r\n          }\r\n          else {\r\n            console.log('running on local');\r\n          }\r\n          //join all pogIds\r\n          var all_pogIds = pogIdList_arr.join(',');\r\n\r\n          //second request Url\r\n          var url;\r\n          // if not local\r\n          if(GetInner_.firstURL.indexOf('.json') < 0){\r\n              url = (window.admin && window.admin == 'true' ? '/admin' : '') + '/json/getProductById?pogIds=' + all_pogIds;\r\n          }\r\n\r\n          //if local\r\n          else {\r\n              url = \"../csvData_2_\" + pogIdList_arr + \".json\";\r\n          }\r\n\r\n          /* preventCache */\r\n          var preventCache_suffix = new Date().getTime();\r\n          url = url+'?timeID=' + preventCache_suffix;\r\n\r\n          //console.log('modified second reqUrl: ', url);\r\n          /* preventCache */\r\n          AjaxStart.XMLHTTP_reqOn(url).then(function(data) {\r\n              if (typeof data == \"string\") {\r\n                  data = JSON.parse(data);\r\n              }\r\n              update_mainArray_X(data, mainArray_X);\r\n              //console.log('updated mainArray_X from pogID data request: ', mainArray_X);\r\n              //update_htmlContent_arr_by_sortOrder, setOrder of sections\r\n              if(sortOrder){\r\n                  console.log('sortOrder defined');\r\n                  update_htmlContent_arr_by_sortOrder(mainArray_X, sortOrder, htmlContent_arr);\r\n                  SetHTML.init_setToMainWrapper({\r\n                    htmlContent_multi_arr:htmlContent_arr,\r\n                  });\r\n              }\r\n              else {\r\n\r\n                  if(filterBy=='categoryNames'){\r\n                    //using domQuery to sort the order of subsequent htmlContent based of dom_categoryNames\r\n                    update_htmlContent_arr_by_dom_categoryNames(mainArray_X, dom_categoryNames_arr, htmlContent_arr);\r\n                    SetHTML.init_setToEachID({\r\n                      htmlContent_multi_arr:htmlContent_arr,\r\n                    });\r\n                    //initCountDwn Timer if TimerOffer True\r\n                    if(TimerOffer !== false) {\r\n                      TimerX99.initCountDwnX99(TimerX99.all_timerOptions_ajax);\r\n                      console.log('run timer please');\r\n\r\n                      //incase we need to delegate click\r\n                      DelegateClick_timerOfferUnit();\r\n                      console.log('run DelegateClick_timerOfferUnit');\r\n                    }\r\n\r\n\r\n                  }\r\n                  else if(filterBy == 'price'){\r\n                    //act upon mainArray_X\r\n                    console.log('non updated htmlContent_arr: ', htmlContent_arr);\r\n                    update_htmlContent_arr_by_priceRange_domID_edit(mainArray_X, priceRange_domID,  htmlContent_arr);\r\n                    console.log('updated htmlContent_arr by price: ', htmlContent_arr);\r\n                    //setHTML\r\n                    SetHTML.init_setToEachID_filterBy_price({\r\n                      htmlContent_multi_arr:htmlContent_arr\r\n                    });\r\n                  }\r\n              }\r\n          });\r\n        }\r\n    }\r\n\r\n\r\n    function update_htmlContent_arr_by_priceRange_domID(mainArray_X, priceRange_domID,  htmlContent_arr){\r\n        priceRange_domID.forEach(function(item, index, array){\r\n          var minPriceVal = item[0];\r\n          var maxPriceVal = item[1];\r\n          var this_priceRangeOffers = mainArray_X.reduce(function(acc, item, index, arr){\r\n            if(item._displayPrice > minPriceVal && item._displayPrice < maxPriceVal && item.categoryName!==\"undefined\"){\r\n              acc.push(item);\r\n            }\r\n            return acc;\r\n          }, []);\r\n\r\n          htmlContent_arr[index].push(this_priceRangeOffers);\r\n        });\r\n    }\r\n\r\n    function update_htmlContent_arr_by_priceRange_domID_edit(mainArray_X, priceRange_domID,  htmlContent_arr){\r\n        priceRange_domID.forEach(function(item, index, array){\r\n          var minPriceVal = item[0];\r\n          var maxPriceVal = item[1];\r\n          mainArray_X.forEach(function(_item, _index, _arr){\r\n            if(_item._displayPrice > minPriceVal && _item._displayPrice < maxPriceVal && _item.categoryName!==\"undefined\"){\r\n              console.log('method item: ', _item);\r\n              htmlContent_arr[index].push(_item);\r\n            }\r\n          });\r\n        });\r\n    }\r\n\r\n\r\n    function update_mainArray_X(data, mainArray_X) {\r\n        data.forEach(function(e) {\r\n            var this_data = e;\r\n            mainArray_X.forEach(function(_e) {\r\n                if (this_data.id == _e.pogId) {\r\n                    _e._vendorCode = this_data.vendorCode;\r\n                    _e._discount = this_data.discount;\r\n                    _e._avgRating = this_data.avgRating;\r\n                    _e._noOfReviews = this_data.noOfReviews;\r\n                    _e._image = this_data.image;\r\n                    _e._price = this_data.price;\r\n                    _e._displayPrice = this_data.displayPrice;\r\n                    _e._soldOut = this_data.soldOut;\r\n                    _e._highlights = this_data.highlights;\r\n                    _e._offers = this_data.offers;\r\n                    _e._labelUrl = this_data.labelUrl;\r\n                    _e._sdGold = this_data.sdGold;\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    //get unique_categoryNames\r\n    function getUniqueCategoryNames(data){\r\n      var all_categoryNames_arr = [];\r\n      data.forEach(function(item){\r\n        all_categoryNames_arr.push(item.categoryName);\r\n      });\r\n      return all_categoryNames_arr.reduce(function(acc, item, index, arr){\r\n        if(arr.indexOf(item) == index){\r\n          acc.push(item);\r\n        }\r\n        return acc;\r\n      }, []);\r\n    }\r\n\r\n    //push data into htmlContent_arr by sortOrder(defined in options)\r\n    function update_htmlContent_arr_by_sortOrder(data, sortOrder, htmlContent_arr){\r\n      for (var i = 0; i < sortOrder.length; i++) {\r\n          var current_catName = sortOrder[i];\r\n          for (var j = 0; j < data.length; j++) {\r\n              if (data[j].categoryName == current_catName) {\r\n                  htmlContent_arr[i].push(data[j]);\r\n              }\r\n          }\r\n      }\r\n    }\r\n\r\n    //push data into htmlContent_arr by unique_categoryNames(from data)\r\n    function pushCategoryItemsToIDArr(data, unique_categoryNames, htmlContent_arr){\r\n      for (var i = 0; i < unique_categoryNames.length; i++) {\r\n          var current_catName = unique_categoryNames[i];\r\n          for (var j = 0; j < data.length; j++) {\r\n              if (data[j].categoryName == current_catName) {\r\n                  htmlContent_arr[i].push(data[j]);\r\n              }\r\n          }\r\n      }\r\n    }\r\n\r\n    //push data into dom_htmlContent_arr by dom_categoryNames_arr(from dom)\r\n    function update_htmlContent_arr_by_dom_categoryNames(data, dom_categoryNames_arr, htmlContent_arr){\r\n      for (var i = 0; i < dom_categoryNames_arr.length; i++) {\r\n          var current_catName = dom_categoryNames_arr[i];\r\n          for (var j = 0; j < data.length; j++) {\r\n              if (data[j].categoryName == current_catName) {\r\n                  htmlContent_arr[i].push(data[j]);\r\n              }\r\n          }\r\n      }\r\n    }\r\n\r\n    /// * * * assign click events - on click unit find a and update window.location\r\n    function DelegateClick_timerOfferUnit(){\r\n    var offerUnit = document.getElementsByClassName('timerOfferUnit');\r\n      for(var i=0; i < offerUnit.length; i++){\r\n        offerUnit[i].addEventListener('click', function(e){\r\n          //console.log('offerUnit clicked!');\r\n          var windowWidth = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;\r\n          var this_offerUnit = this;\r\n          var this_liveTimerOffer_href = this_offerUnit.children[0].children[0].children[0].getAttribute('href');\r\n          //console.log(this_liveTimerOffer_href);\r\n          if(!this_liveTimerOffer_href){\r\n            console.log('a tag liveTimerOffer_href not found, return');\r\n            return;\r\n          }\r\n          if (windowWidth > 768) {\r\n              window.open(this_liveTimerOffer_href, '_blank');\r\n          } else {\r\n              window.location.href = this_liveTimerOffer_href;\r\n          }\r\n          e.preventDefault();\r\n      });\r\n    }\r\n  }\r\n\r\n})();\r\n\r\n\r\nvar SetHTML = (function(){\r\n  var public = {};\r\n  var finalHTMLContent = []; //append all TOGETHER in the end\r\n\r\n  //SetHTML.init_setToMainWrapper\r\n  /*\r\n  var default_setToMainWrapper_opts = {\r\n      htmlContent_multi_arr: [],\r\n      wrapper_id: 'mainWrapperX_newX999'\r\n  };\r\n\r\n  public.init_setToMainWrapper = function(opts) {\r\n    console.log('init_setToMainWrapper running!');\r\n    if(!opts){\r\n        opts = {};\r\n    }\r\n\r\n      var htmlContent_multi_arr = opts.htmlContent_multi_arr ? opts.htmlContent_multi_arr : default_setToMainWrapper_opts.htmlContent_multi_arr;\r\n      var wrapper_id = opts.wrapper_id ? opts.wrapper_id : default_setToMainWrapper_opts.wrapper_id;\r\n\r\n      var wrapper_dom = document.getElementById(wrapper_id);\r\n\r\n      htmlContent_multi_arr.forEach(function(this_innerArr, index, array) {\r\n          //console.log('categoryName: ' );\r\n          if(!this_innerArr[0]){\r\n            console.log('this_innerArr[] '+index + ' is undefined || not found in data');\r\n            return false;\r\n          }\r\n          //console.log(this_innerArr[0].categoryName);\r\n          var categoryName = this_innerArr[0].categoryName;\r\n          this_innerArr[0].categoryName = this_innerArr[0].categoryName ? this_innerArr[0].categoryName : 'undefined';\r\n          //console.log('categoryName: ' + categoryName);\r\n          var ul_htmlContent = '<ul id=\"' + categoryName + '\">';\r\n          var close_ul_htmlContent = '</ul>';\r\n\r\n          var li_htmlContent = this_innerArr.map(function(item) {\r\n              var pogId = item.pogId;\r\n              var vendorCode = item._vendorCode;\r\n              var offers = item._offers;\r\n              var catalogId;\r\n              var supc;\r\n              if(!offers) {\r\n                if(!catalogId){\r\n                  catalogId = 'undefined';\r\n                }\r\n                if(!supc){\r\n                  supc = 'undefined';\r\n                }\r\n              }\r\n              else {\r\n                catalogId = offers.map(function(e){return e.id;})[0];\r\n                supc = offers.map(function(e){return e.supcs;})[0];\r\n              }\r\n              return (\r\n                '<li class=\"OffersContentBoxLi\"' +\r\n                             'data-pogId=\"' + pogId + '\"' +\r\n                             'data-catalogid=\"' + catalogId + '\"' +\r\n                             'data-supc=\"' + supc + '\"' +\r\n                             'data-vendorcode=\"' + vendorCode + '\"' + '>' +\r\n                             set_SoldOUt_ModuleX99(item) +\r\n                             set_OffersContTxt_Wrapper() +\r\n                              set_aLink_ModuleX99(item) +\r\n                                set_OfferImg_blazy(item) +\r\n                                set_OffersContTxt_Wrapper() +\r\n                                  set_Discount_ModuleX99(item) +\r\n                                  set_OfferTitle_csv(item) +\r\n                                  set_StarRatings_and_Reviews_ModuleX99(item) +\r\n                                  set_Price_and_Tagline_ModuleX99(item) +\r\n                                setClosing_OffersContTxt_Wrapper() +\r\n                              setClosing_aLink_ModuleX99(item) +\r\n                            setClosing_OffersContTxt_Wrapper() +\r\n                             '</li>'\r\n              );\r\n          }).join('');\r\n          var unit_htmlContent = setHTML_sectionX_unitStart(categoryName) + ul_htmlContent + li_htmlContent + close_ul_htmlContent + setHTML_sectionX_unitClose();\r\n          finalHTMLContent.push(unit_htmlContent);\r\n\r\n            //setHTML_sectionX_unitStart\r\n            function setHTML_sectionX_unitClose(){\r\n              return ('</div>'+'</div>'+'</div>');\r\n            }\r\n\r\n            function setHTML_sectionX_unitStart(categoryName){\r\n            \treturn ('<div class=\"sectionX\" >'+\r\n            \t\t\t'<div class=\"captionWrap_bgX99\">'+\r\n            \t\t\t\t'<div class=\"captionX99\">'+\r\n            \t\t\t\t\t'<h2>'+\r\n            \t\t\t\t\t\t'<span class=\"decorX\">' + categoryName + '</span>'+\r\n            \t\t\t\t\t'</h2>'+\r\n            \t\t\t\t'</div>'+\r\n            \t\t\t'</div>'+\r\n            \t\t\t'<div class=\"offerCont_wrap\">'+\r\n            \t\t\t\t'<div class=\"width_ContstraX relFontX resp_LiX\">');\r\n            }\r\n      });\r\n      //setting the html to dom\r\n      finalHTMLContent = finalHTMLContent.join('');\r\n      fastdom.mutate(function() {\r\n        wrapper_dom.innerHTML = finalHTMLContent;\r\n        //init blazy\r\n        var blazy = new Blazy({\r\n          loadInvisible: true\r\n        });\r\n      });\r\n  };\r\n  // /SetHTML.init_setToMainWrapper\r\n  */\r\n\r\n  /*\r\n  var default_setToEachID_filterBy_price_opts = {\r\n      htmlContent_multi_arr: [],\r\n      wrapper_id: 'mainWrapperX_newX999',\r\n  };\r\n\r\n  public.init_setToEachID_filterBy_price = function(opts) {\r\n    if(!opts){\r\n        opts = {};\r\n    }\r\n    var htmlContent_multi_arr = opts.htmlContent_multi_arr ? opts.htmlContent_multi_arr : default_setToEachID_opts.htmlContent_multi_arr;\r\n    console.log('init_setToEachID_filterBy_price running!');\r\n    //console.log('GetInner_.priceRange_domID: ', GetInner_.priceRange_domID);\r\n    var priceRange_domID = GetInner_.priceRange_domID;\r\n    //console.log('inside init_setToEachID_filterBy_price priceRange_domID: ', priceRange_domID);\r\n\r\n\r\n    console.log('finalHTMLContent len: ', finalHTMLContent.length);\r\n    for(var i=0; i< priceRange_domID.length; i++){\r\n      finalHTMLContent.push([]);\r\n    }\r\n    console.log('updated finalHTMLContent len: ', finalHTMLContent.length);\r\n\r\n    htmlContent_multi_arr.forEach(function(this_innerArr, index, array) {\r\n        console.log('this_innerArr: ', this_innerArr );\r\n        if(!this_innerArr[0]){\r\n          console.log('this_innerArr[] '+index + ' is undefined || not found in data');\r\n          return false;\r\n        }\r\n        var categoryName = this_innerArr[0].categoryName;\r\n        console.log('categoryName: ', categoryName);\r\n        this_innerArr[0].categoryName = this_innerArr[0].categoryName ? this_innerArr[0].categoryName : 'undefined';\r\n\r\n        var li_htmlContent = this_innerArr.map(function(item) {\r\n            var pogId = item.pogId;\r\n            var vendorCode = item._vendorCode;\r\n            var offers = item._offers;\r\n            var catalogId;\r\n            var supc;\r\n            if(!offers) {\r\n              if(!catalogId){\r\n                catalogId = 'undefined';\r\n              }\r\n              if(!supc){\r\n                supc = 'undefined';\r\n              }\r\n            }\r\n            else {\r\n              catalogId = offers.map(function(e){return e.id;})[0];\r\n              supc = offers.map(function(e){return e.supcs;})[0];\r\n            }\r\n            return (\r\n              '<li class=\"OffersContentBoxLi ' + categoryName + '\"' +\r\n                           'data-pogId=\"' + pogId + '\"' +\r\n                           'data-catalogid=\"' + catalogId + '\"' +\r\n                           'data-supc=\"' + supc + '\"' +\r\n                           'data-vendorcode=\"' + vendorCode + '\"' + '>' +\r\n                           set_SoldOUt_ModuleX99(item) +\r\n                           set_OffersContTxt_Wrapper() +\r\n                            set_aLink_ModuleX99(item) +\r\n                              set_OfferImg_blazy(item) +\r\n                              set_OffersContTxt_Wrapper() +\r\n                                set_Discount_ModuleX99(item) +\r\n                                set_OfferTitle_csv(item) +\r\n                                set_StarRatings_and_Reviews_ModuleX99(item) +\r\n                                set_Price_and_Tagline_ModuleX99(item) +\r\n                              setClosing_OffersContTxt_Wrapper() +\r\n                            setClosing_aLink_ModuleX99(item) +\r\n                          setClosing_OffersContTxt_Wrapper() +\r\n                           '</li>'\r\n            );\r\n        }).join('');\r\n        var unit_htmlContent = li_htmlContent;\r\n        finalHTMLContent[index].push(unit_htmlContent);\r\n    });\r\n\r\n    //setting the html to dom\r\n\r\n    fastdom.mutate(function() {\r\n      for(var i=0; i<finalHTMLContent.length; i++){\r\n          var wrapper_dom = document.getElementById(priceRange_domID[i][2]);\r\n          wrapper_dom.innerHTML = finalHTMLContent[i].join('');\r\n      }\r\n      //init blazy\r\n      var blazy = new Blazy({\r\n        loadInvisible: true\r\n      });\r\n    });\r\n  };\r\n  */\r\n\r\n\r\n  var dom_categoryNames_arr = Query_dom_categoryNames.dom_categoryNames_arr();\r\n\r\n  var default_setToEachID_opts = {\r\n      htmlContent_multi_arr: [],\r\n      wrapper_id: 'mainWrapperX_newX999',\r\n  };\r\n\r\n  public.init_setToEachID = function(opts) {\r\n    if(!opts){\r\n        opts = {};\r\n    }\r\n    var htmlContent_multi_arr = opts.htmlContent_multi_arr ? opts.htmlContent_multi_arr : default_setToEachID_opts.htmlContent_multi_arr;\r\n    console.log('init_setToEachID running!');\r\n    for(var i=0; i< dom_categoryNames_arr.length; i++){\r\n      finalHTMLContent.push([]);\r\n    }\r\n    htmlContent_multi_arr.forEach(function(this_innerArr, index, array) {\r\n        if(!this_innerArr[0]){\r\n          console.log('this_innerArr[] '+index + ' is undefined || not found in data');\r\n          return false;\r\n        }\r\n        var categoryName = this_innerArr[0].categoryName;\r\n        this_innerArr[0].categoryName = this_innerArr[0].categoryName ? this_innerArr[0].categoryName : 'undefined';\r\n\r\n        var offer_htmlContent = this_innerArr.map(function(item) {\r\n            var pogId = item.pogId;\r\n            var categoryName = item.categoryName;\r\n            //all properties fetched via pogId query have _ e.g. 'item._vendorCode, item._discount'\r\n            var vendorCode = item._vendorCode;\r\n            var offers = item._offers;\r\n            var catalogId;\r\n            var supc;\r\n            //console.log('labelUrl: ', labelUrl);\r\n            //soldOut Options\r\n            if(item._soldOut === true || item._soldOut){\r\n              console.log('Item with pogId: ' + pogId + ' was sold out!');\r\n              return;\r\n            }\r\n\r\n            //prevent render if item is not mobile/tablet & discount equal to 0 or less than 10\r\n            /*if (!updateDiscount_IfMatchX(item)) {\r\n              var _discount = item._discount;\r\n              if (_discount === 0 || _discount && _discount < 10) {\r\n                console.log('Item with pogId: ' + pogId + ' had discount less than 10!');\r\n                  return;\r\n                }\r\n            }*/\r\n\r\n            if(!offers) {\r\n              if(!catalogId){\r\n                catalogId = 'undefined';\r\n              }\r\n              if(!supc){\r\n                supc = 'undefined';\r\n              }\r\n            }\r\n            else {\r\n              catalogId = offers.map(function(e){return e.id;})[0];\r\n              supc = offers.map(function(e){return e.supcs;})[0];\r\n            }\r\n            //templating conditions\r\n\r\n            /// * * * DOD templates * * * ///\r\n\r\n            //if superDeal\r\n            /*\r\n            if(categoryName.indexOf('superDod') > -1){\r\n              return (\r\n                '<div class=\"dodSuperDeal_unit offer_x99Unit hoverStyleX99 ' + categoryName + '\"' +\r\n                              '>' +\r\n                              set_SoldOUt_ModuleX99(item) +\r\n                                setHTML_offerUnit_href(item) +\r\n                                  setHTML_offerUnit_href_afterWrap()+\r\n                                    setHTML_offerUnit_imgWrap_sdPlusInc_rel(item) +\r\n                                    setHTML_offerUnit_nonImgContWrap() +\r\n                                      setHTML_wrapCenterCont() +\r\n                                        setHTML_centeredContX() +\r\n                                          setHTML_offerUnit_discountWrap(item) +\r\n                                          setHTML_offerUnit_title(item) +\r\n                                          setHTML_offerUnit_ratingWrap(item) +\r\n                                          setHTML_offerUnit_priceTaglineWrap_rel(item) +\r\n                                        setHTML_centeredContX_closing() +\r\n                                      setHTML_wrapCenterCont_closing() +\r\n                                    setHTML_offerUnit_nonImgContWrap_closing() +\r\n                                  setHTML_offerUnit_href_afterWrap_closing() +\r\n                                setHTML_offerUnit_href_closing(item) +\r\n                             '</div>'\r\n              );\r\n            }\r\n            //if reason\r\n            else if(categoryName.indexOf('reason') > -1){\r\n              return (\r\n                '<li class=\"reason_unit offer_x99Unit ' + categoryName + '\">' +\r\n                  setHTML_reasonsToBuy_tagline(item) +\r\n                '</li>'\r\n              );\r\n            }\r\n            */\r\n            /// * * * /DOD templates * * * ///\r\n\r\n            /// * * * Computer Gaming Sale * * * ///\r\n            //if liveTimerOffer\r\n            if(categoryName.indexOf('liveTimerOffer') > -1) {\r\n              return (\r\n                '<div class=\"liveTimerOffers offer_x99Unit  ' + categoryName + '\"' +\r\n                             '>' +\r\n                              set_SoldOUt_ModuleX99(item) +\r\n                              setHTML_offerUnit_href(item) +\r\n                                setHTML_offerUnit_imgWrap_sdPlusInc_rel(item) +\r\n                                setHTML_offerUnit_nonImgContWrap() +\r\n                                  setHTML_offerUnit_discountWrap(item) +\r\n                                  setHTML_offerUnit_title(item) +\r\n                                  setHTML_offerUnit_ratingWrap(item) +\r\n                                  setHTML_offerUnit_priceTaglineWrap_rel(item) +\r\n                                setHTML_offerUnit_nonImgContWrap_closing() +\r\n                              setHTML_offerUnit_href_closing(item) +\r\n                             '</div>'\r\n              );\r\n            }\r\n            //if upcoming\r\n            else if(categoryName.indexOf('upcomingOffer') > -1){\r\n              return (\r\n                '<div class=\"offerUnit_offerWrap offer_x99Unit  ' + categoryName + '\"' +\r\n                             '>' +\r\n                                setHTML_offerUnit_imgWrap_sdPlusInc_rel(item) +\r\n                                setHTML_offerUnit_nonImgContWrap() +\r\n                                  setHTML_offerUpcoming_upcoming() +\r\n                                  setHTML_offerUnit_title(item) +\r\n                                setHTML_offerUnit_nonImgContWrap_closing() +\r\n                             '</div>'\r\n              );\r\n            }\r\n            //if featureDeals\r\n            else if(categoryName.indexOf('featureDeals') > -1) {\r\n              return (\r\n                '<div class=\"liveTimerOffers offer_x99Unit  ' + categoryName + '\"' +\r\n                            '>' +\r\n                              set_SoldOUt_ModuleX99(item) +\r\n                              setHTML_offerUnit_href(item) +\r\n                                setHTML_offerUnit_imgWrap_sdPlusInc_rel(item) +\r\n                                setHTML_offerUnit_nonImgContWrap() +\r\n                                  setHTML_offerUnit_discountWrap(item) +\r\n                                  setHTML_offerUnit_title(item) +\r\n                                  setHTML_offerUnit_ratingWrap(item) +\r\n                                  setHTML_offerUnit_priceTaglineWrap_rel(item) +\r\n                                setHTML_offerUnit_nonImgContWrap_closing() +\r\n                              setHTML_offerUnit_href_closing(item) +\r\n                             '</div>'\r\n              );\r\n            }\r\n            //if bestOfBrands\r\n            else if(categoryName.indexOf('bestOfBrands') > -1) {\r\n              return (\r\n                '<li class=\"offerUnits_4_2 offerUnit_normalOffer offer_x99Unit offers_WrapperX99 hoverStyleX99 ' + categoryName + '\"' +'>' +\r\n                              set_SoldOUt_ModuleX99(item) +\r\n                                setHTML_offerUnit_href(item) +\r\n                                  setHTML_offerUnit_href_afterWrap()+\r\n                                    setHTML_offerUnit_imgWrap_sdPlusInc_rel(item) +\r\n                                    setHTML_offerUnit_nonImgContWrap() +\r\n                                          setHTML_offerUnit_priceTaglineWrap_rel(item) +\r\n                                    setHTML_offerUnit_nonImgContWrap_closing() +\r\n                                  setHTML_offerUnit_href_afterWrap_closing() +\r\n                                setHTML_offerUnit_href_closing(item) +\r\n                             '</li>'\r\n              );\r\n            }\r\n\r\n            /// * * * Computer Gaming Sale * * * ///\r\n\r\n            /// * * * quickLinks * * * ///\r\n            /*\r\n            //if default quickLinks\r\n            else if(categoryName.indexOf('quickLinks') > -1){\r\n              return (\r\n                '<li class=\"offerUnits_4_2 offerUnit_normalOffer offer_x99Unit offers_WrapperX99 hoverStyleX99 ' + categoryName + '\"' +\r\n                             '>' +\r\n                                setHTML_offerUnit_href(item) +\r\n                                          setHTML_QuickLinkOffers_tagline(item)+\r\n                                setHTML_offerUnit_href_closing(item) +\r\n                             '</li>'\r\n              );\r\n            }\r\n            */\r\n            //if image quickLinks\r\n            else if(categoryName.indexOf('quickLinksImages') > -1){\r\n              return (\r\n                '<li class=\"offerUnits_4_2 offerUnit_normalOffer offer_x99Unit offers_WrapperX99 hoverStyleX99 ' + categoryName + '\"' +\r\n                             '>' +\r\n                                setHTML_offerUnit_href(item) +\r\n                                          setHTML_offerUnit_imgWrap_sdPlusInc_rel(item) +\r\n                                setHTML_offerUnit_href_closing(item) +\r\n                             '</li>'\r\n              );\r\n            }\r\n\r\n            /// * * * /quickLinks * * * ///\r\n\r\n            /// * * * footerBannerX99 * * * ///\r\n            //if footerBannerX99\r\n            else if(categoryName.indexOf('footerBannerX99') > -1){\r\n              return (\r\n                '<li class=\"footerBannerX99_unit \">' +\r\n                  setHTML_offerUnit_href(item) +\r\n                    setHTML_offerUnit_imgWrapOnly(item) +\r\n                  setHTML_offerUnit_href_closing(item) +\r\n                '</li>'\r\n              );\r\n            }\r\n            /// * * * /footerBannerX99 * * * ///\r\n\r\n\r\n            //if vwAll\r\n            else if(categoryName.indexOf('vwAll') > -1){\r\n              return (\r\n                '<div class=\"offer_x99Unit offerUnit_vwAll ' + categoryName + '\"' +'>' +\r\n                                setHTML_offerUnit_href(item) +\r\n                                  \"View All\" +\r\n                                setHTML_offerUnit_href_closing(item) +\r\n                             '</div>'\r\n              );\r\n            }\r\n            // /if vwAll\r\n\r\n            /// * * * default li offer unit * * * ///\r\n            //if not follow default template\r\n            else {\r\n              return (\r\n                '<li class=\"offerUnits_4_2 offerUnit_normalOffer offer_x99Unit offers_WrapperX99 hoverStyleX99 ' + categoryName + '\"' +\r\n                              '>' +\r\n                              set_SoldOUt_ModuleX99(item) +\r\n                                setHTML_offerUnit_href(item) +\r\n                                  setHTML_offerUnit_href_afterWrap()+\r\n                                    setHTML_offerUnit_imgWrap_sdPlusInc_rel(item) +\r\n                                    setHTML_offerUnit_nonImgContWrap() +\r\n                                          setHTML_offerUnit_discountWrap(item) +\r\n                                          setHTML_offerUnit_title(item) +\r\n                                          setHTML_offerUnit_ratingWrap(item) +\r\n                                          setHTML_offerUnit_priceTaglineWrap_rel(item) +\r\n                                          //saveAmt\r\n                                          setHTML_wrap_saveAmt(item) +\r\n                                    setHTML_offerUnit_nonImgContWrap_closing() +\r\n                                  setHTML_offerUnit_href_afterWrap_closing() +\r\n                                setHTML_offerUnit_href_closing(item) +\r\n                             '</li>'\r\n              );\r\n            }\r\n            /// * * * /default li offer unit * * * ///\r\n\r\n        }).join('');\r\n        var unit_htmlContent = offer_htmlContent;\r\n        finalHTMLContent[index].push(unit_htmlContent);\r\n    });\r\n\r\n    //setting the html to dom\r\n    fastdom.mutate(function() {\r\n      for(var i=0; i<finalHTMLContent.length; i++){\r\n          var wrapper_dom = document.getElementById(dom_categoryNames_arr[i]);\r\n          wrapper_dom.innerHTML = finalHTMLContent[i].join('');\r\n      }\r\n      //init blazy\r\n      var blazy = new Blazy({\r\n        loadInvisible: true\r\n      });\r\n    });\r\n\r\n  };\r\n\r\n  return public;\r\n\r\n  ///* * *start csv fragmentTemplates utilities\r\n  function setHTML_offerUpcoming_upcoming(){\r\n    return (\r\n      '<div class=\"offerUpcoming_upcoming\"> upcoming deal </div>'\r\n    );\r\n  }\r\n\r\n  //setHTML_reasonsToBuy_tagline\r\n  function setHTML_reasonsToBuy_tagline(item) {\n    return '<div class=\"reasonsToBuy_tagline\">' + item.tagLine + '</div>';\n  }\r\n\r\n  //setHTML_QuickLinkOffers_tagline\r\n  function setHTML_QuickLinkOffers_tagline(item) {\r\n    return '<div class=\"QuickLinkOffers_tagline\">' + item.tagLine + '</div>';\r\n  }\r\n\r\n  //*taglineRating Module\r\n  function setHTML_offerUnit_priceTaglineWrap_rel(item) {\r\n    var offerUnit_priceTaglineWrap_rel = '<div class=\"offerUnit_priceTaglineWrap_rel\">';\r\n    var tagLineFragments = '<div class=\"offerUnit_taglineWrap\"><div class=\"offerUnit_tagline\">' + item.tagLine + '</div></div>';\r\n    var priceContXFragments = '<div class=\"offerUnit_priceWrap\"><span class=\"offerUnit_priceWrapAll\">Rs.' + '<span class=\"offerUnit_price\">' + item._price + '</span>&nbsp; &nbsp;</span>' + '<span class=\"offerUnit_displayPrice\"><span>Rs.&nbsp;</span>' + item._displayPrice + '</span>' + '</div>';\r\n\r\n    function priceOrTagline_dom(item) {\r\n        if (item.tagLine) {\r\n            return (offerUnit_priceTaglineWrap_rel + tagLineFragments + '</div>');\r\n        }\r\n        if (item._price || item._displayPrice) {\r\n            return (offerUnit_priceTaglineWrap_rel + priceContXFragments + '</div>');\r\n        } else {\r\n            return (offerUnit_priceTaglineWrap_rel + '</div>');\r\n        }\r\n    }\r\n    return priceOrTagline_dom(item); //\r\n}\r\n\r\n  //setHTML_wrap_saveAmt\r\n  function setHTML_wrap_saveAmt(item){\r\n    var wrap_saveAmt = '<div class=\"wrap_saveAmt\">';\r\n    var wrap_saveAmt_closing = '</div>';\r\n\r\n    if(item._displayPrice < item._price){\r\n      var saveAmt = item._price - item._displayPrice;\r\n      return (\r\n        wrap_saveAmt +'You save Rs. ' + '<span>' + saveAmt + '</span>' + wrap_saveAmt_closing\r\n      );\r\n    }\r\n    else {\r\n      return (\r\n        wrap_saveAmt + wrap_saveAmt_closing\r\n      );\r\n    }\r\n  }\r\n\r\n\r\n  function setHTML_offerUnit_href_afterWrap(){\r\n    return '<div class=\"offerUnit_href_afterWrap\">';\r\n  }\r\n  function setHTML_offerUnit_href_afterWrap_closing(){\r\n    return '</div>';\r\n  }\r\n\r\n  function setHTML_offerUnit_nonImgContWrap(){\r\n    return '<div class=\"offerUnit_nonImgContWrap\">';\r\n  }\r\n  function setHTML_offerUnit_nonImgContWrap_closing(){\r\n    return '</div>';\r\n  }\r\n\r\n  function setHTML_wrapCenterCont(){\r\n    return '<div class=\"wrapCenterCont\">';\r\n  }\r\n  function setHTML_wrapCenterCont_closing(){\r\n    return '</div>';\r\n  }\r\n\r\n  function setHTML_centeredContX(){\r\n    return '<div class=\"centeredContX\">';\r\n  }\r\n  function setHTML_centeredContX_closing(){\r\n    return '</div>';\r\n  }\r\n\r\n  //setImage\r\n  function setHTML_offerUnit_imgWrap_sdPlusInc_rel(item){\r\n    if(!item.offerName || item.offerName === null){\r\n      item.offerName = '';\r\n    }\r\n    if(item._sdGold === true){\r\n      console.log();\r\n      return (\r\n        '<div class=\"offerUnit_imgWrap_sdPlusInc_rel\"><div class=\"offerUnit_sdPlusWrap_abs\"></div>' +\r\n        '<img class=\"offerUnit_img b-lazy\" data-src=\"' + item.offerImageUrl + '\" src=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\" alt=\"'+ item.offerName +'\" />' +\r\n        '</div>'\r\n      );\r\n    }\r\n    else {\r\n      return (\r\n        '<div class=\"offerUnit_imgWrap_sdPlusInc_rel\">' +\r\n        '<img class=\"offerUnit_img OfferImg b-lazy\" data-src=\"' + item.offerImageUrl + '\" src=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\" alt=\"'+ item.offerName +'\" />' +\r\n        '</div>'\r\n      );\r\n    }\r\n  }\r\n\r\n  function setHTML_offerUnit_imgWrapOnly(item){\r\n    if(!item.offerName || item.offerName === null){\r\n      item.offerName = 'Image';\r\n    }\r\n    return (\r\n      '<div class=\"offerUnit_imgWrapOnly\">' +\r\n      '<img class=\"offerUnit_img OfferImg b-lazy\" data-src=\"' + item.offerImageUrl + '\" src=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\" alt=\"'+ item.offerName +'\" />' +\r\n      '</div>'\r\n    );\r\n    /*\r\n    if(!item){\r\n      console.log('item not found!');\r\n      return;\r\n    }\r\n    else {\r\n      return (\r\n        '<div class=\"offerUnit_imgWrapOnly\">' +\r\n        '<img class=\"offerUnit_img OfferImg b-lazy\" data-src=\"' + item.offerImageUrl + '\" src=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\" alt=\"'+ item.offerName +'\" />' +\r\n        '</div>'\r\n      );\r\n    }\r\n    */\r\n  }\r\n\r\n   //*aLink Module\r\n   function setHTML_offerUnit_href(item) {\r\n       if(!item){\r\n           return;\r\n       }\r\n       var aLink_Wrap = '<a target=\"_blank\" href=\"' + item.offerPageUrl + '\" class=\"offerUnit_href\">';\r\n       if (item.offerPageUrl) {\r\n           return aLink_Wrap;\r\n       } else {\r\n           return '';\r\n       }\r\n   }\r\n   function setHTML_offerUnit_href_closing(item) {\r\n       if (item.offerPageUrl) {\r\n           return '</a>';\r\n       } else {\r\n           return '';\r\n       }\r\n   }\r\n   //**title\r\n   function setHTML_offerUnit_title(item) {\r\n       return '<div class=\"offerUnit_title twoLine_TitleX99\">' + item.offerName + '</div>';\r\n   }\r\n   //**rating\r\n   function setHTML_offerUnit_ratingWrap(item) {\r\n       var ifRatingDefined_dom_V = ifRatingDefined_dom(item);\r\n       var setRating_V = setRating(item);\r\n       var rating_Wrap = '<div class=\"offerUnit_ratingWrap\">';\r\n       var ratingFragments = '<div class=\"offerUnit_rating_rel\"><div class=\"ratingBG_disabled\"></div>' + '<div class=\"ratingBG_active\" style=\"width:' + setRating_V + 'px;\"></div></div>';\r\n       var reviewsFragments = '<span class=\"numberRevsX\">(' + item._noOfReviews + ')</span>';\r\n\r\n       function ifRatingDefined_dom(item) {\r\n           if (item._avgRating) {\r\n               if (item._noOfReviews) {\r\n                   ratingFragments += reviewsFragments;\r\n               }\r\n               return (rating_Wrap + ratingFragments + '</div>');\r\n           } else {\r\n               return (rating_Wrap + '</div>');\r\n           }\r\n       }\r\n       function setRating(item) {\r\n           if (item._avgRating) {\r\n               var val = item._avgRating,\r\n                   val_Stringed = val.toString(),\r\n                   widthFactor = 0,\r\n                   width = 70;\r\n               if (val < 1 || val > 5) {\r\n                   return false;\r\n               }\r\n               widthFactor = ((((val_Stringed / 5) * 100) / 100) * width);\r\n               widthFactor = Math.round(widthFactor * 10) / 10;\r\n               return widthFactor;\r\n           } else {\r\n               return;\r\n           }\r\n       }\r\n       return ifRatingDefined_dom(item); //\r\n       //set_StarRatings_and_Reviews_ModuleX99\r\n   }\r\n\r\n   //**discount\r\n    function setHTML_offerUnit_discountWrap(item) {\r\n       var discount = item._discount;\r\n       var OfferDiscount_Wrap = '<div class=\"offerUnit_discountWrap\">';\r\n       var OfferDiscount_Discount_Wrap = '<div class=\"offerUnit_discount\">' + discount + '% Off </div>';\r\n\r\n       if(!discount || discount === null){\r\n         return _hideDiscount();\r\n       }\r\n\r\n        function _showDiscount(){\r\n           return (OfferDiscount_Wrap + OfferDiscount_Discount_Wrap + '</div>');\r\n        }\r\n        function _hideDiscount(){\r\n           return (OfferDiscount_Wrap + '</div>');\r\n        }\r\n\r\n        function showDiscountUnless0_dom(item) {\r\n             if (discount === 0) {\r\n                 return _hideDiscount();\r\n               }\r\n             else {\r\n               //dod conditional\r\n               return _showDiscount();\r\n             }\r\n           }\r\n\r\n      //If labelUrl matches refurbished/mobiles/tablets\r\n      //Or if item.priceSlab == \"true\"\r\n       function dod_showDiscountUnless0_dom(item) {\r\n         var item_priceSlab = item.priceSlab.toLowerCase();\r\n         if (discount === 0) {\r\n             return _hideDiscount();\r\n           }\r\n         if(discount < 10){\r\n           if(updateDiscount_IfMatchX(item) || item_priceSlab==\"true\"){\r\n               return _showDiscount();\r\n           }\r\n           else {\r\n             return _hideDiscount();\r\n           }\r\n         }\r\n         else {\r\n           return _showDiscount();\r\n         }\r\n       }\r\n\r\n        return dod_showDiscountUnless0_dom(item); //\r\n    }\r\n\r\n    //start updateDiscount_IfMatchX\r\n    function updateDiscount_IfMatchX(item) {\r\n      if(!item) {\r\n        return false;\r\n      }\r\n      var labelUrl = item._labelUrl;\r\n      if(!labelUrl) {\r\n        return false;\r\n      }\r\n     if (labelUrl.match(/refurbished|mobiles-mobile-phones|mobiles-tablets/g)) {\r\n       //console.log('found');\r\n       //console.log('labelUrl: ', labelUrl);\r\n       return true;\r\n     } else {\r\n       //console.log('not found!');\r\n     }\r\n    }\r\n    //end updateDiscount_IfMatchX\r\n\r\n   //**if soldOut\r\n   function set_SoldOUt_ModuleX99(item){\r\n        var soldOut_Wrap = '<div class=\"offerUnit_Soldout\"><div class=\"offerUnit_Soldout_btn\">SOLD OUT</div></div>';\r\n        if (item._soldOut) {\r\n            return soldOut_Wrap;\r\n        } else {\r\n            return '';\r\n        }\r\n   }\r\n\r\n   ///* * * end csv fragmentTemplates utilities\r\n   //end of rest of utilities\r\n})();\r\n\r\n\r\n//socialShareModule\r\n/// * * * socialShareX_Module * * * ///\r\nvar socialShareX_Module = (function() {\r\n  var mainWrapperX99 = document.getElementsByClassName('shareX99_wrapper')[0];\r\n  var ele = mainWrapperX99.querySelectorAll('.shareIconX_icoWrapper li');\r\n  var whatsappX = mainWrapperX99.querySelector('li.whatsappX');\r\n    //check if mobile and show/hide whatsapp\r\n    var mobileSite_TrueX999_var = MobPlatform_M.mobileSite_TrueX999();\r\n    //console.log('mobileSite_running: ' + mobileSite_TrueX999_var);\r\n    if(mobileSite_TrueX999_var){\r\n      console.log('mobile site running, show whatsapp');\r\n      whatsappX.style.display = 'block';\r\n      }\r\n    else {\r\n      whatsappX.style.display = 'none';\r\n    }\r\n    //var links\r\n    var currURLX = window.location.href;\r\n    var preURLs = {\r\n        'facebookX': 'https://www.facebook.com/sharer.php?u=',\r\n        'twitterX': 'https://twitter.com/intent/tweet?url=',\r\n        'googleplusX': 'https://plus.google.com/share?url=',\r\n        'pinterestX': 'https://pinterest.com/pin/create/bookmarklet/?url=',\r\n        'whatsappX': 'whatsapp://send?text='\r\n    };\r\n    var finalURL = '';\r\n    //click events\r\n    for(var i=0; i< ele.length; i++){\r\n      ele[i].addEventListener('click', function(e) {\r\n        e.preventDefault();\r\n        var finalURL = '',\r\n            ele = e.target,\r\n            twHastag = ele.getAttribute('data-hashtag');\r\n        if (ele.classList.contains('facebookX')) {\r\n            finalURL = preURLs.facebookX + currURLX;\r\n        } else if (ele.classList.contains('twitterX')) {\r\n            if (twHastag) {\r\n                finalURL = preURLs.twitterX + currURLX + '&hashtags=' + twHastag;\r\n            } else {\r\n                finalURL = preURLs.twitterX + currURLX;\r\n            }\r\n        } else if (ele.classList.contains('googleplusX')) {\r\n            finalURL = preURLs.googleplusX + currURLX;\r\n        } else if (ele.classList.contains('pinterestX')) {\r\n            finalURL = preURLs.pinterestX + currURLX;\r\n        }\r\n        else if (ele.classList.contains('whatsappX')) {\r\n            finalURL = preURLs.whatsappX + currURLX;\r\n        }\r\n        console.log('finalURL: ',finalURL);\r\n        var W_width = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;\r\n        var W_height = window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight;\r\n\r\n        window.open(finalURL, 'shareWindow', 'height=450, width=550, top=' + (W_height / 2 - 275) + ', left=' + (W_width / 2 - 225) + ', toolbar=0, location=0, menubar=0, directories=0, scrollbars=0');\r\n    //end of click event\r\n    });\r\n    //end of for loop\r\n    }\r\n})();\r\n// end of socialShareX_Module\r\n\r\n/* exposing to Global for inPage use */\r\nwindow.AjaxPageApp = AjaxPageApp;\r\n","/// * * * check if MobPlatform * * * ///\r\n\r\nvar promise = require('es6-promise');\r\n\r\nvar AjaxStart = (function(){\r\n    var public = {};\r\n    var htmlContent_arr = [];\r\n    public.XMLHTTP_reqOn = function(url){\r\n        return new Promise(function(resolve, reject){\r\n           var request = new XMLHttpRequest();\r\n            request.open('GET', url);\r\n            request.onload = function(){\r\n                if(request.status == 200){\r\n                  //console.log('AjaxStart url: ', url);\r\n                    resolve(request.response);\r\n                }\r\n                else {\r\n                    reject(Error(request.statusText));\r\n                }\r\n            };\r\n            request.oneerror = function(){\r\n                reject(Error('Network Error'));\r\n            };\r\n            request.send();\r\n        });\r\n    };\r\n    return public;\r\n})();\r\n\r\nmodule.exports = AjaxStart;\r\n","/*!\n  hey, [be]Lazy.js - v1.6.2 - 2016.05.09\n  A fast, small and dependency free lazy load script (https://github.com/dinbror/blazy)\n  (c) Bjoern Klinggaard - @bklinggaard - http://dinbror.dk/blazy\n*/\n;\n(function(root, blazy) {\n    if (typeof define === 'function' && define.amd) {\n        // AMD. Register bLazy as an anonymous module\n        define(blazy);\n    } else if (typeof exports === 'object') {\n        // Node. Does not work with strict CommonJS, but\n        // only CommonJS-like environments that support module.exports,\n        // like Node.\n        module.exports = blazy();\n    } else {\n        // Browser globals. Register bLazy on window\n        root.Blazy = blazy();\n    }\n})(this, function() {\n    'use strict';\n\n    //private vars\n    var _source, _viewport, _isRetina, _attrSrc = 'src',\n        _attrSrcset = 'srcset';\n\n    // constructor\n    return function Blazy(options) {\n        //IE7- fallback for missing querySelectorAll support\n        if (!document.querySelectorAll) {\n            var s = document.createStyleSheet();\n            document.querySelectorAll = function(r, c, i, j, a) {\n                a = document.all, c = [], r = r.replace(/\\[for\\b/gi, '[htmlFor').split(',');\n                for (i = r.length; i--;) {\n                    s.addRule(r[i], 'k:v');\n                    for (j = a.length; j--;) a[j].currentStyle.k && c.push(a[j]);\n                    s.removeRule(0);\n                }\n                return c;\n            };\n        }\n\n        //options and helper vars\n        var scope = this;\n        var util = scope._util = {};\n        util.elements = [];\n        util.destroyed = true;\n        scope.options = options || {};\n        scope.options.error = scope.options.error || false;\n        scope.options.offset = scope.options.offset || 100;\n        scope.options.success = scope.options.success || false;\n        scope.options.selector = scope.options.selector || '.b-lazy';\n        scope.options.separator = scope.options.separator || '|';\n        scope.options.container = scope.options.container ? document.querySelectorAll(scope.options.container) : false;\n        scope.options.errorClass = scope.options.errorClass || 'b-error';\n        scope.options.breakpoints = scope.options.breakpoints || false; // obsolete\n        scope.options.loadInvisible = scope.options.loadInvisible || false;\n        scope.options.successClass = scope.options.successClass || 'b-loaded';\n        scope.options.validateDelay = scope.options.validateDelay || 25;\n        scope.options.saveViewportOffsetDelay = scope.options.saveViewportOffsetDelay || 50;\n        scope.options.srcset = scope.options.srcset || 'data-srcset';\n        scope.options.src = _source = scope.options.src || 'data-src';\n        _isRetina = window.devicePixelRatio > 1;\n        _viewport = {};\n        _viewport.top = 0 - scope.options.offset;\n        _viewport.left = 0 - scope.options.offset;\n\n\n        /* public functions\n         ************************************/\n        scope.revalidate = function() {\n            initialize(this);\n        };\n        scope.load = function(elements, force) {\n            var opt = this.options;\n            if (elements.length === undefined) {\n                loadElement(elements, force, opt);\n            } else {\n                each(elements, function(element) {\n                    loadElement(element, force, opt);\n                });\n            }\n        };\n        scope.destroy = function() {\n            var self = this;\n            var util = self._util;\n            if (self.options.container) {\n                each(self.options.container, function(object) {\n                    unbindEvent(object, 'scroll', util.validateT);\n                });\n            }\n            unbindEvent(window, 'scroll', util.validateT);\n            unbindEvent(window, 'resize', util.validateT);\n            unbindEvent(window, 'resize', util.saveViewportOffsetT);\n            util.count = 0;\n            util.elements.length = 0;\n            util.destroyed = true;\n        };\n\n        //throttle, ensures that we don't call the functions too often\n        util.validateT = throttle(function() {\n            validate(scope);\n        }, scope.options.validateDelay, scope);\n        util.saveViewportOffsetT = throttle(function() {\n            saveViewportOffset(scope.options.offset);\n        }, scope.options.saveViewportOffsetDelay, scope);\n        saveViewportOffset(scope.options.offset);\n\n        //handle multi-served image src (obsolete)\n        each(scope.options.breakpoints, function(object) {\n            if (object.width >= window.screen.width) {\n                _source = object.src;\n                return false;\n            }\n        });\n\n        // start lazy load\n        setTimeout(function() {\n            initialize(scope);\n        }); // \"dom ready\" fix\n\n    };\n\n\n    /* Private helper functions\n     ************************************/\n    function initialize(self) {\n        var util = self._util;\n        // First we create an array of elements to lazy load\n        util.elements = toArray(self.options.selector);\n        util.count = util.elements.length;\n        // Then we bind resize and scroll events if not already binded\n        if (util.destroyed) {\n            util.destroyed = false;\n            if (self.options.container) {\n                each(self.options.container, function(object) {\n                    bindEvent(object, 'scroll', util.validateT);\n                });\n            }\n            bindEvent(window, 'resize', util.saveViewportOffsetT);\n            bindEvent(window, 'resize', util.validateT);\n            bindEvent(window, 'scroll', util.validateT);\n        }\n        // And finally, we start to lazy load.\n        validate(self);\n    }\n\n    function validate(self) {\n        var util = self._util;\n        for (var i = 0; i < util.count; i++) {\n            var element = util.elements[i];\n            if (elementInView(element) || hasClass(element, self.options.successClass)) {\n                self.load(element);\n                util.elements.splice(i, 1);\n                util.count--;\n                i--;\n            }\n        }\n        if (util.count === 0) {\n            self.destroy();\n        }\n    }\n\n    function elementInView(ele) {\n        var rect = ele.getBoundingClientRect();\n        return (\n            // Intersection\n            rect.right >= _viewport.left && rect.bottom >= _viewport.top && rect.left <= _viewport.right && rect.top <= _viewport.bottom\n        );\n    }\n\n    function loadElement(ele, force, options) {\n        // if element is visible, not loaded or forced\n        if (!hasClass(ele, options.successClass) && (force || options.loadInvisible || (ele.offsetWidth > 0 && ele.offsetHeight > 0))) {\n            var dataSrc = ele.getAttribute(_source) || ele.getAttribute(options.src); // fallback to default 'data-src'\n            if (dataSrc) {\n                var dataSrcSplitted = dataSrc.split(options.separator);\n                var src = dataSrcSplitted[_isRetina && dataSrcSplitted.length > 1 ? 1 : 0];\n                var isImage = equal(ele, 'img');\n                // Image or background image\n                if (isImage || ele.src === undefined) {\n                    var img = new Image();\n                    // using EventListener instead of onerror and onload\n                    // due to bug introduced in chrome v50 \n                    // (https://productforums.google.com/forum/#!topic/chrome/p51Lk7vnP2o)\n                    var onErrorHandler = function() {\n                        if (options.error) options.error(ele, \"invalid\");\n                        addClass(ele, options.errorClass);\n                        unbindEvent(img, 'error', onErrorHandler);\n                        unbindEvent(img, 'load', onLoadHandler);\n                    };\n                    var onLoadHandler = function() {\n                        // Is element an image\n                        if (isImage) {\n                            setSrc(ele, src); //src\n                            handleSource(ele, _attrSrcset, options.srcset); //srcset\n                            //picture element\n                            var parent = ele.parentNode;\n                            if (parent && equal(parent, 'picture')) {\n                                each(parent.getElementsByTagName('source'), function(source) {\n                                    handleSource(source, _attrSrcset, options.srcset);\n                                });\n                            }\n                        // or background-image\n                        } else {\n                            ele.style.backgroundImage = 'url(\"' + src + '\")';\n                        }\n                        itemLoaded(ele, options);\n                        unbindEvent(img, 'load', onLoadHandler);\n                        unbindEvent(img, 'error', onErrorHandler);\n                    };\n                    bindEvent(img, 'error', onErrorHandler);\n                    bindEvent(img, 'load', onLoadHandler);\n                    setSrc(img, src); //preload\n                } else { // An item with src like iframe, unity, simpelvideo etc\n                    setSrc(ele, src);\n                    itemLoaded(ele, options);\n                }\n            } else {\n                // video with child source\n                if (equal(ele, 'video')) {\n                    each(ele.getElementsByTagName('source'), function(source) {\n                        handleSource(source, _attrSrc, options.src);\n                    });\n                    ele.load();\n                    itemLoaded(ele, options);\n                } else {\n                    if (options.error) options.error(ele, \"missing\");\n                    addClass(ele, options.errorClass);\n                }\n            }\n        }\n    }\n\n    function itemLoaded(ele, options) {\n        addClass(ele, options.successClass);\n        if (options.success) options.success(ele);\n        // cleanup markup, remove data source attributes\n        ele.removeAttribute(options.src);\n        each(options.breakpoints, function(object) {\n            ele.removeAttribute(object.src);\n        });\n    }\n\n    function setSrc(ele, src) {\n        ele[_attrSrc] = src;\n    }\n\n    function handleSource(ele, attr, dataAttr) {\n        var dataSrc = ele.getAttribute(dataAttr);\n        if (dataSrc) {\n            ele[attr] = dataSrc;\n            ele.removeAttribute(dataAttr);\n        }\n    }\n\n    function equal(ele, str) {\n        return ele.nodeName.toLowerCase() === str;\n    }\n\n    function hasClass(ele, className) {\n        return (' ' + ele.className + ' ').indexOf(' ' + className + ' ') !== -1;\n    }\n\n    function addClass(ele, className) {\n        if (!hasClass(ele, className)) {\n            ele.className += ' ' + className;\n        }\n    }\n\n    function toArray(selector) {\n        var array = [];\n        var nodelist = document.querySelectorAll(selector);\n        for (var i = nodelist.length; i--; array.unshift(nodelist[i])) {}\n        return array;\n    }\n\n    function saveViewportOffset(offset) {\n        _viewport.bottom = (window.innerHeight || document.documentElement.clientHeight) + offset;\n        _viewport.right = (window.innerWidth || document.documentElement.clientWidth) + offset;\n    }\n\n    function bindEvent(ele, type, fn) {\n        if (ele.attachEvent) {\n            ele.attachEvent && ele.attachEvent('on' + type, fn);\n        } else {\n            ele.addEventListener(type, fn, false);\n        }\n    }\n\n    function unbindEvent(ele, type, fn) {\n        if (ele.detachEvent) {\n            ele.detachEvent && ele.detachEvent('on' + type, fn);\n        } else {\n            ele.removeEventListener(type, fn, false);\n        }\n    }\n\n    function each(object, fn) {\n        if (object && fn) {\n            var l = object.length;\n            for (var i = 0; i < l && fn(object[i], i) !== false; i++) {}\n        }\n    }\n\n    function throttle(fn, minDelay, scope) {\n        var lastCall = 0;\n        return function() {\n            var now = +new Date();\n            if (now - lastCall < minDelay) {\n                return;\n            }\n            lastCall = now;\n            fn.apply(scope, arguments);\n        };\n    }\n});","/*!\n * @overview es6-promise - a tiny implementation of Promises/A+.\n * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)\n * @license   Licensed under MIT license\n *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE\n * @version   3.2.1\n */\n\n(function() {\n    \"use strict\";\n    function lib$es6$promise$utils$$objectOrFunction(x) {\n      return typeof x === 'function' || (typeof x === 'object' && x !== null);\n    }\n\n    function lib$es6$promise$utils$$isFunction(x) {\n      return typeof x === 'function';\n    }\n\n    function lib$es6$promise$utils$$isMaybeThenable(x) {\n      return typeof x === 'object' && x !== null;\n    }\n\n    var lib$es6$promise$utils$$_isArray;\n    if (!Array.isArray) {\n      lib$es6$promise$utils$$_isArray = function (x) {\n        return Object.prototype.toString.call(x) === '[object Array]';\n      };\n    } else {\n      lib$es6$promise$utils$$_isArray = Array.isArray;\n    }\n\n    var lib$es6$promise$utils$$isArray = lib$es6$promise$utils$$_isArray;\n    var lib$es6$promise$asap$$len = 0;\n    var lib$es6$promise$asap$$vertxNext;\n    var lib$es6$promise$asap$$customSchedulerFn;\n\n    var lib$es6$promise$asap$$asap = function asap(callback, arg) {\n      lib$es6$promise$asap$$queue[lib$es6$promise$asap$$len] = callback;\n      lib$es6$promise$asap$$queue[lib$es6$promise$asap$$len + 1] = arg;\n      lib$es6$promise$asap$$len += 2;\n      if (lib$es6$promise$asap$$len === 2) {\n        // If len is 2, that means that we need to schedule an async flush.\n        // If additional callbacks are queued before the queue is flushed, they\n        // will be processed by this flush that we are scheduling.\n        if (lib$es6$promise$asap$$customSchedulerFn) {\n          lib$es6$promise$asap$$customSchedulerFn(lib$es6$promise$asap$$flush);\n        } else {\n          lib$es6$promise$asap$$scheduleFlush();\n        }\n      }\n    }\n\n    function lib$es6$promise$asap$$setScheduler(scheduleFn) {\n      lib$es6$promise$asap$$customSchedulerFn = scheduleFn;\n    }\n\n    function lib$es6$promise$asap$$setAsap(asapFn) {\n      lib$es6$promise$asap$$asap = asapFn;\n    }\n\n    var lib$es6$promise$asap$$browserWindow = (typeof window !== 'undefined') ? window : undefined;\n    var lib$es6$promise$asap$$browserGlobal = lib$es6$promise$asap$$browserWindow || {};\n    var lib$es6$promise$asap$$BrowserMutationObserver = lib$es6$promise$asap$$browserGlobal.MutationObserver || lib$es6$promise$asap$$browserGlobal.WebKitMutationObserver;\n    var lib$es6$promise$asap$$isNode = typeof self === 'undefined' && typeof process !== 'undefined' && {}.toString.call(process) === '[object process]';\n\n    // test for web worker but not in IE10\n    var lib$es6$promise$asap$$isWorker = typeof Uint8ClampedArray !== 'undefined' &&\n      typeof importScripts !== 'undefined' &&\n      typeof MessageChannel !== 'undefined';\n\n    // node\n    function lib$es6$promise$asap$$useNextTick() {\n      // node version 0.10.x displays a deprecation warning when nextTick is used recursively\n      // see https://github.com/cujojs/when/issues/410 for details\n      return function() {\n        process.nextTick(lib$es6$promise$asap$$flush);\n      };\n    }\n\n    // vertx\n    function lib$es6$promise$asap$$useVertxTimer() {\n      return function() {\n        lib$es6$promise$asap$$vertxNext(lib$es6$promise$asap$$flush);\n      };\n    }\n\n    function lib$es6$promise$asap$$useMutationObserver() {\n      var iterations = 0;\n      var observer = new lib$es6$promise$asap$$BrowserMutationObserver(lib$es6$promise$asap$$flush);\n      var node = document.createTextNode('');\n      observer.observe(node, { characterData: true });\n\n      return function() {\n        node.data = (iterations = ++iterations % 2);\n      };\n    }\n\n    // web worker\n    function lib$es6$promise$asap$$useMessageChannel() {\n      var channel = new MessageChannel();\n      channel.port1.onmessage = lib$es6$promise$asap$$flush;\n      return function () {\n        channel.port2.postMessage(0);\n      };\n    }\n\n    function lib$es6$promise$asap$$useSetTimeout() {\n      return function() {\n        setTimeout(lib$es6$promise$asap$$flush, 1);\n      };\n    }\n\n    var lib$es6$promise$asap$$queue = new Array(1000);\n    function lib$es6$promise$asap$$flush() {\n      for (var i = 0; i < lib$es6$promise$asap$$len; i+=2) {\n        var callback = lib$es6$promise$asap$$queue[i];\n        var arg = lib$es6$promise$asap$$queue[i+1];\n\n        callback(arg);\n\n        lib$es6$promise$asap$$queue[i] = undefined;\n        lib$es6$promise$asap$$queue[i+1] = undefined;\n      }\n\n      lib$es6$promise$asap$$len = 0;\n    }\n\n    function lib$es6$promise$asap$$attemptVertx() {\n      try {\n        var r = require;\n        var vertx = r('vertx');\n        lib$es6$promise$asap$$vertxNext = vertx.runOnLoop || vertx.runOnContext;\n        return lib$es6$promise$asap$$useVertxTimer();\n      } catch(e) {\n        return lib$es6$promise$asap$$useSetTimeout();\n      }\n    }\n\n    var lib$es6$promise$asap$$scheduleFlush;\n    // Decide what async method to use to triggering processing of queued callbacks:\n    if (lib$es6$promise$asap$$isNode) {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useNextTick();\n    } else if (lib$es6$promise$asap$$BrowserMutationObserver) {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useMutationObserver();\n    } else if (lib$es6$promise$asap$$isWorker) {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useMessageChannel();\n    } else if (lib$es6$promise$asap$$browserWindow === undefined && typeof require === 'function') {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$attemptVertx();\n    } else {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useSetTimeout();\n    }\n    function lib$es6$promise$then$$then(onFulfillment, onRejection) {\n      var parent = this;\n\n      var child = new this.constructor(lib$es6$promise$$internal$$noop);\n\n      if (child[lib$es6$promise$$internal$$PROMISE_ID] === undefined) {\n        lib$es6$promise$$internal$$makePromise(child);\n      }\n\n      var state = parent._state;\n\n      if (state) {\n        var callback = arguments[state - 1];\n        lib$es6$promise$asap$$asap(function(){\n          lib$es6$promise$$internal$$invokeCallback(state, child, callback, parent._result);\n        });\n      } else {\n        lib$es6$promise$$internal$$subscribe(parent, child, onFulfillment, onRejection);\n      }\n\n      return child;\n    }\n    var lib$es6$promise$then$$default = lib$es6$promise$then$$then;\n    function lib$es6$promise$promise$resolve$$resolve(object) {\n      /*jshint validthis:true */\n      var Constructor = this;\n\n      if (object && typeof object === 'object' && object.constructor === Constructor) {\n        return object;\n      }\n\n      var promise = new Constructor(lib$es6$promise$$internal$$noop);\n      lib$es6$promise$$internal$$resolve(promise, object);\n      return promise;\n    }\n    var lib$es6$promise$promise$resolve$$default = lib$es6$promise$promise$resolve$$resolve;\n    var lib$es6$promise$$internal$$PROMISE_ID = Math.random().toString(36).substring(16);\n\n    function lib$es6$promise$$internal$$noop() {}\n\n    var lib$es6$promise$$internal$$PENDING   = void 0;\n    var lib$es6$promise$$internal$$FULFILLED = 1;\n    var lib$es6$promise$$internal$$REJECTED  = 2;\n\n    var lib$es6$promise$$internal$$GET_THEN_ERROR = new lib$es6$promise$$internal$$ErrorObject();\n\n    function lib$es6$promise$$internal$$selfFulfillment() {\n      return new TypeError(\"You cannot resolve a promise with itself\");\n    }\n\n    function lib$es6$promise$$internal$$cannotReturnOwn() {\n      return new TypeError('A promises callback cannot return that same promise.');\n    }\n\n    function lib$es6$promise$$internal$$getThen(promise) {\n      try {\n        return promise.then;\n      } catch(error) {\n        lib$es6$promise$$internal$$GET_THEN_ERROR.error = error;\n        return lib$es6$promise$$internal$$GET_THEN_ERROR;\n      }\n    }\n\n    function lib$es6$promise$$internal$$tryThen(then, value, fulfillmentHandler, rejectionHandler) {\n      try {\n        then.call(value, fulfillmentHandler, rejectionHandler);\n      } catch(e) {\n        return e;\n      }\n    }\n\n    function lib$es6$promise$$internal$$handleForeignThenable(promise, thenable, then) {\n       lib$es6$promise$asap$$asap(function(promise) {\n        var sealed = false;\n        var error = lib$es6$promise$$internal$$tryThen(then, thenable, function(value) {\n          if (sealed) { return; }\n          sealed = true;\n          if (thenable !== value) {\n            lib$es6$promise$$internal$$resolve(promise, value);\n          } else {\n            lib$es6$promise$$internal$$fulfill(promise, value);\n          }\n        }, function(reason) {\n          if (sealed) { return; }\n          sealed = true;\n\n          lib$es6$promise$$internal$$reject(promise, reason);\n        }, 'Settle: ' + (promise._label || ' unknown promise'));\n\n        if (!sealed && error) {\n          sealed = true;\n          lib$es6$promise$$internal$$reject(promise, error);\n        }\n      }, promise);\n    }\n\n    function lib$es6$promise$$internal$$handleOwnThenable(promise, thenable) {\n      if (thenable._state === lib$es6$promise$$internal$$FULFILLED) {\n        lib$es6$promise$$internal$$fulfill(promise, thenable._result);\n      } else if (thenable._state === lib$es6$promise$$internal$$REJECTED) {\n        lib$es6$promise$$internal$$reject(promise, thenable._result);\n      } else {\n        lib$es6$promise$$internal$$subscribe(thenable, undefined, function(value) {\n          lib$es6$promise$$internal$$resolve(promise, value);\n        }, function(reason) {\n          lib$es6$promise$$internal$$reject(promise, reason);\n        });\n      }\n    }\n\n    function lib$es6$promise$$internal$$handleMaybeThenable(promise, maybeThenable, then) {\n      if (maybeThenable.constructor === promise.constructor &&\n          then === lib$es6$promise$then$$default &&\n          constructor.resolve === lib$es6$promise$promise$resolve$$default) {\n        lib$es6$promise$$internal$$handleOwnThenable(promise, maybeThenable);\n      } else {\n        if (then === lib$es6$promise$$internal$$GET_THEN_ERROR) {\n          lib$es6$promise$$internal$$reject(promise, lib$es6$promise$$internal$$GET_THEN_ERROR.error);\n        } else if (then === undefined) {\n          lib$es6$promise$$internal$$fulfill(promise, maybeThenable);\n        } else if (lib$es6$promise$utils$$isFunction(then)) {\n          lib$es6$promise$$internal$$handleForeignThenable(promise, maybeThenable, then);\n        } else {\n          lib$es6$promise$$internal$$fulfill(promise, maybeThenable);\n        }\n      }\n    }\n\n    function lib$es6$promise$$internal$$resolve(promise, value) {\n      if (promise === value) {\n        lib$es6$promise$$internal$$reject(promise, lib$es6$promise$$internal$$selfFulfillment());\n      } else if (lib$es6$promise$utils$$objectOrFunction(value)) {\n        lib$es6$promise$$internal$$handleMaybeThenable(promise, value, lib$es6$promise$$internal$$getThen(value));\n      } else {\n        lib$es6$promise$$internal$$fulfill(promise, value);\n      }\n    }\n\n    function lib$es6$promise$$internal$$publishRejection(promise) {\n      if (promise._onerror) {\n        promise._onerror(promise._result);\n      }\n\n      lib$es6$promise$$internal$$publish(promise);\n    }\n\n    function lib$es6$promise$$internal$$fulfill(promise, value) {\n      if (promise._state !== lib$es6$promise$$internal$$PENDING) { return; }\n\n      promise._result = value;\n      promise._state = lib$es6$promise$$internal$$FULFILLED;\n\n      if (promise._subscribers.length !== 0) {\n        lib$es6$promise$asap$$asap(lib$es6$promise$$internal$$publish, promise);\n      }\n    }\n\n    function lib$es6$promise$$internal$$reject(promise, reason) {\n      if (promise._state !== lib$es6$promise$$internal$$PENDING) { return; }\n      promise._state = lib$es6$promise$$internal$$REJECTED;\n      promise._result = reason;\n\n      lib$es6$promise$asap$$asap(lib$es6$promise$$internal$$publishRejection, promise);\n    }\n\n    function lib$es6$promise$$internal$$subscribe(parent, child, onFulfillment, onRejection) {\n      var subscribers = parent._subscribers;\n      var length = subscribers.length;\n\n      parent._onerror = null;\n\n      subscribers[length] = child;\n      subscribers[length + lib$es6$promise$$internal$$FULFILLED] = onFulfillment;\n      subscribers[length + lib$es6$promise$$internal$$REJECTED]  = onRejection;\n\n      if (length === 0 && parent._state) {\n        lib$es6$promise$asap$$asap(lib$es6$promise$$internal$$publish, parent);\n      }\n    }\n\n    function lib$es6$promise$$internal$$publish(promise) {\n      var subscribers = promise._subscribers;\n      var settled = promise._state;\n\n      if (subscribers.length === 0) { return; }\n\n      var child, callback, detail = promise._result;\n\n      for (var i = 0; i < subscribers.length; i += 3) {\n        child = subscribers[i];\n        callback = subscribers[i + settled];\n\n        if (child) {\n          lib$es6$promise$$internal$$invokeCallback(settled, child, callback, detail);\n        } else {\n          callback(detail);\n        }\n      }\n\n      promise._subscribers.length = 0;\n    }\n\n    function lib$es6$promise$$internal$$ErrorObject() {\n      this.error = null;\n    }\n\n    var lib$es6$promise$$internal$$TRY_CATCH_ERROR = new lib$es6$promise$$internal$$ErrorObject();\n\n    function lib$es6$promise$$internal$$tryCatch(callback, detail) {\n      try {\n        return callback(detail);\n      } catch(e) {\n        lib$es6$promise$$internal$$TRY_CATCH_ERROR.error = e;\n        return lib$es6$promise$$internal$$TRY_CATCH_ERROR;\n      }\n    }\n\n    function lib$es6$promise$$internal$$invokeCallback(settled, promise, callback, detail) {\n      var hasCallback = lib$es6$promise$utils$$isFunction(callback),\n          value, error, succeeded, failed;\n\n      if (hasCallback) {\n        value = lib$es6$promise$$internal$$tryCatch(callback, detail);\n\n        if (value === lib$es6$promise$$internal$$TRY_CATCH_ERROR) {\n          failed = true;\n          error = value.error;\n          value = null;\n        } else {\n          succeeded = true;\n        }\n\n        if (promise === value) {\n          lib$es6$promise$$internal$$reject(promise, lib$es6$promise$$internal$$cannotReturnOwn());\n          return;\n        }\n\n      } else {\n        value = detail;\n        succeeded = true;\n      }\n\n      if (promise._state !== lib$es6$promise$$internal$$PENDING) {\n        // noop\n      } else if (hasCallback && succeeded) {\n        lib$es6$promise$$internal$$resolve(promise, value);\n      } else if (failed) {\n        lib$es6$promise$$internal$$reject(promise, error);\n      } else if (settled === lib$es6$promise$$internal$$FULFILLED) {\n        lib$es6$promise$$internal$$fulfill(promise, value);\n      } else if (settled === lib$es6$promise$$internal$$REJECTED) {\n        lib$es6$promise$$internal$$reject(promise, value);\n      }\n    }\n\n    function lib$es6$promise$$internal$$initializePromise(promise, resolver) {\n      try {\n        resolver(function resolvePromise(value){\n          lib$es6$promise$$internal$$resolve(promise, value);\n        }, function rejectPromise(reason) {\n          lib$es6$promise$$internal$$reject(promise, reason);\n        });\n      } catch(e) {\n        lib$es6$promise$$internal$$reject(promise, e);\n      }\n    }\n\n    var lib$es6$promise$$internal$$id = 0;\n    function lib$es6$promise$$internal$$nextId() {\n      return lib$es6$promise$$internal$$id++;\n    }\n\n    function lib$es6$promise$$internal$$makePromise(promise) {\n      promise[lib$es6$promise$$internal$$PROMISE_ID] = lib$es6$promise$$internal$$id++;\n      promise._state = undefined;\n      promise._result = undefined;\n      promise._subscribers = [];\n    }\n\n    function lib$es6$promise$promise$all$$all(entries) {\n      return new lib$es6$promise$enumerator$$default(this, entries).promise;\n    }\n    var lib$es6$promise$promise$all$$default = lib$es6$promise$promise$all$$all;\n    function lib$es6$promise$promise$race$$race(entries) {\n      /*jshint validthis:true */\n      var Constructor = this;\n\n      if (!lib$es6$promise$utils$$isArray(entries)) {\n        return new Constructor(function(resolve, reject) {\n          reject(new TypeError('You must pass an array to race.'));\n        });\n      } else {\n        return new Constructor(function(resolve, reject) {\n          var length = entries.length;\n          for (var i = 0; i < length; i++) {\n            Constructor.resolve(entries[i]).then(resolve, reject);\n          }\n        });\n      }\n    }\n    var lib$es6$promise$promise$race$$default = lib$es6$promise$promise$race$$race;\n    function lib$es6$promise$promise$reject$$reject(reason) {\n      /*jshint validthis:true */\n      var Constructor = this;\n      var promise = new Constructor(lib$es6$promise$$internal$$noop);\n      lib$es6$promise$$internal$$reject(promise, reason);\n      return promise;\n    }\n    var lib$es6$promise$promise$reject$$default = lib$es6$promise$promise$reject$$reject;\n\n\n    function lib$es6$promise$promise$$needsResolver() {\n      throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');\n    }\n\n    function lib$es6$promise$promise$$needsNew() {\n      throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\");\n    }\n\n    var lib$es6$promise$promise$$default = lib$es6$promise$promise$$Promise;\n    /**\n      Promise objects represent the eventual result of an asynchronous operation. The\n      primary way of interacting with a promise is through its `then` method, which\n      registers callbacks to receive either a promise's eventual value or the reason\n      why the promise cannot be fulfilled.\n\n      Terminology\n      -----------\n\n      - `promise` is an object or function with a `then` method whose behavior conforms to this specification.\n      - `thenable` is an object or function that defines a `then` method.\n      - `value` is any legal JavaScript value (including undefined, a thenable, or a promise).\n      - `exception` is a value that is thrown using the throw statement.\n      - `reason` is a value that indicates why a promise was rejected.\n      - `settled` the final resting state of a promise, fulfilled or rejected.\n\n      A promise can be in one of three states: pending, fulfilled, or rejected.\n\n      Promises that are fulfilled have a fulfillment value and are in the fulfilled\n      state.  Promises that are rejected have a rejection reason and are in the\n      rejected state.  A fulfillment value is never a thenable.\n\n      Promises can also be said to *resolve* a value.  If this value is also a\n      promise, then the original promise's settled state will match the value's\n      settled state.  So a promise that *resolves* a promise that rejects will\n      itself reject, and a promise that *resolves* a promise that fulfills will\n      itself fulfill.\n\n\n      Basic Usage:\n      ------------\n\n      ```js\n      var promise = new Promise(function(resolve, reject) {\n        // on success\n        resolve(value);\n\n        // on failure\n        reject(reason);\n      });\n\n      promise.then(function(value) {\n        // on fulfillment\n      }, function(reason) {\n        // on rejection\n      });\n      ```\n\n      Advanced Usage:\n      ---------------\n\n      Promises shine when abstracting away asynchronous interactions such as\n      `XMLHttpRequest`s.\n\n      ```js\n      function getJSON(url) {\n        return new Promise(function(resolve, reject){\n          var xhr = new XMLHttpRequest();\n\n          xhr.open('GET', url);\n          xhr.onreadystatechange = handler;\n          xhr.responseType = 'json';\n          xhr.setRequestHeader('Accept', 'application/json');\n          xhr.send();\n\n          function handler() {\n            if (this.readyState === this.DONE) {\n              if (this.status === 200) {\n                resolve(this.response);\n              } else {\n                reject(new Error('getJSON: `' + url + '` failed with status: [' + this.status + ']'));\n              }\n            }\n          };\n        });\n      }\n\n      getJSON('/posts.json').then(function(json) {\n        // on fulfillment\n      }, function(reason) {\n        // on rejection\n      });\n      ```\n\n      Unlike callbacks, promises are great composable primitives.\n\n      ```js\n      Promise.all([\n        getJSON('/posts'),\n        getJSON('/comments')\n      ]).then(function(values){\n        values[0] // => postsJSON\n        values[1] // => commentsJSON\n\n        return values;\n      });\n      ```\n\n      @class Promise\n      @param {function} resolver\n      Useful for tooling.\n      @constructor\n    */\n    function lib$es6$promise$promise$$Promise(resolver) {\n      this[lib$es6$promise$$internal$$PROMISE_ID] = lib$es6$promise$$internal$$nextId();\n      this._result = this._state = undefined;\n      this._subscribers = [];\n\n      if (lib$es6$promise$$internal$$noop !== resolver) {\n        typeof resolver !== 'function' && lib$es6$promise$promise$$needsResolver();\n        this instanceof lib$es6$promise$promise$$Promise ? lib$es6$promise$$internal$$initializePromise(this, resolver) : lib$es6$promise$promise$$needsNew();\n      }\n    }\n\n    lib$es6$promise$promise$$Promise.all = lib$es6$promise$promise$all$$default;\n    lib$es6$promise$promise$$Promise.race = lib$es6$promise$promise$race$$default;\n    lib$es6$promise$promise$$Promise.resolve = lib$es6$promise$promise$resolve$$default;\n    lib$es6$promise$promise$$Promise.reject = lib$es6$promise$promise$reject$$default;\n    lib$es6$promise$promise$$Promise._setScheduler = lib$es6$promise$asap$$setScheduler;\n    lib$es6$promise$promise$$Promise._setAsap = lib$es6$promise$asap$$setAsap;\n    lib$es6$promise$promise$$Promise._asap = lib$es6$promise$asap$$asap;\n\n    lib$es6$promise$promise$$Promise.prototype = {\n      constructor: lib$es6$promise$promise$$Promise,\n\n    /**\n      The primary way of interacting with a promise is through its `then` method,\n      which registers callbacks to receive either a promise's eventual value or the\n      reason why the promise cannot be fulfilled.\n\n      ```js\n      findUser().then(function(user){\n        // user is available\n      }, function(reason){\n        // user is unavailable, and you are given the reason why\n      });\n      ```\n\n      Chaining\n      --------\n\n      The return value of `then` is itself a promise.  This second, 'downstream'\n      promise is resolved with the return value of the first promise's fulfillment\n      or rejection handler, or rejected if the handler throws an exception.\n\n      ```js\n      findUser().then(function (user) {\n        return user.name;\n      }, function (reason) {\n        return 'default name';\n      }).then(function (userName) {\n        // If `findUser` fulfilled, `userName` will be the user's name, otherwise it\n        // will be `'default name'`\n      });\n\n      findUser().then(function (user) {\n        throw new Error('Found user, but still unhappy');\n      }, function (reason) {\n        throw new Error('`findUser` rejected and we're unhappy');\n      }).then(function (value) {\n        // never reached\n      }, function (reason) {\n        // if `findUser` fulfilled, `reason` will be 'Found user, but still unhappy'.\n        // If `findUser` rejected, `reason` will be '`findUser` rejected and we're unhappy'.\n      });\n      ```\n      If the downstream promise does not specify a rejection handler, rejection reasons will be propagated further downstream.\n\n      ```js\n      findUser().then(function (user) {\n        throw new PedagogicalException('Upstream error');\n      }).then(function (value) {\n        // never reached\n      }).then(function (value) {\n        // never reached\n      }, function (reason) {\n        // The `PedgagocialException` is propagated all the way down to here\n      });\n      ```\n\n      Assimilation\n      ------------\n\n      Sometimes the value you want to propagate to a downstream promise can only be\n      retrieved asynchronously. This can be achieved by returning a promise in the\n      fulfillment or rejection handler. The downstream promise will then be pending\n      until the returned promise is settled. This is called *assimilation*.\n\n      ```js\n      findUser().then(function (user) {\n        return findCommentsByAuthor(user);\n      }).then(function (comments) {\n        // The user's comments are now available\n      });\n      ```\n\n      If the assimliated promise rejects, then the downstream promise will also reject.\n\n      ```js\n      findUser().then(function (user) {\n        return findCommentsByAuthor(user);\n      }).then(function (comments) {\n        // If `findCommentsByAuthor` fulfills, we'll have the value here\n      }, function (reason) {\n        // If `findCommentsByAuthor` rejects, we'll have the reason here\n      });\n      ```\n\n      Simple Example\n      --------------\n\n      Synchronous Example\n\n      ```javascript\n      var result;\n\n      try {\n        result = findResult();\n        // success\n      } catch(reason) {\n        // failure\n      }\n      ```\n\n      Errback Example\n\n      ```js\n      findResult(function(result, err){\n        if (err) {\n          // failure\n        } else {\n          // success\n        }\n      });\n      ```\n\n      Promise Example;\n\n      ```javascript\n      findResult().then(function(result){\n        // success\n      }, function(reason){\n        // failure\n      });\n      ```\n\n      Advanced Example\n      --------------\n\n      Synchronous Example\n\n      ```javascript\n      var author, books;\n\n      try {\n        author = findAuthor();\n        books  = findBooksByAuthor(author);\n        // success\n      } catch(reason) {\n        // failure\n      }\n      ```\n\n      Errback Example\n\n      ```js\n\n      function foundBooks(books) {\n\n      }\n\n      function failure(reason) {\n\n      }\n\n      findAuthor(function(author, err){\n        if (err) {\n          failure(err);\n          // failure\n        } else {\n          try {\n            findBoooksByAuthor(author, function(books, err) {\n              if (err) {\n                failure(err);\n              } else {\n                try {\n                  foundBooks(books);\n                } catch(reason) {\n                  failure(reason);\n                }\n              }\n            });\n          } catch(error) {\n            failure(err);\n          }\n          // success\n        }\n      });\n      ```\n\n      Promise Example;\n\n      ```javascript\n      findAuthor().\n        then(findBooksByAuthor).\n        then(function(books){\n          // found books\n      }).catch(function(reason){\n        // something went wrong\n      });\n      ```\n\n      @method then\n      @param {Function} onFulfilled\n      @param {Function} onRejected\n      Useful for tooling.\n      @return {Promise}\n    */\n      then: lib$es6$promise$then$$default,\n\n    /**\n      `catch` is simply sugar for `then(undefined, onRejection)` which makes it the same\n      as the catch block of a try/catch statement.\n\n      ```js\n      function findAuthor(){\n        throw new Error('couldn't find that author');\n      }\n\n      // synchronous\n      try {\n        findAuthor();\n      } catch(reason) {\n        // something went wrong\n      }\n\n      // async with promises\n      findAuthor().catch(function(reason){\n        // something went wrong\n      });\n      ```\n\n      @method catch\n      @param {Function} onRejection\n      Useful for tooling.\n      @return {Promise}\n    */\n      'catch': function(onRejection) {\n        return this.then(null, onRejection);\n      }\n    };\n    var lib$es6$promise$enumerator$$default = lib$es6$promise$enumerator$$Enumerator;\n    function lib$es6$promise$enumerator$$Enumerator(Constructor, input) {\n      this._instanceConstructor = Constructor;\n      this.promise = new Constructor(lib$es6$promise$$internal$$noop);\n\n      if (!this.promise[lib$es6$promise$$internal$$PROMISE_ID]) {\n        lib$es6$promise$$internal$$makePromise(this.promise);\n      }\n\n      if (lib$es6$promise$utils$$isArray(input)) {\n        this._input     = input;\n        this.length     = input.length;\n        this._remaining = input.length;\n\n        this._result = new Array(this.length);\n\n        if (this.length === 0) {\n          lib$es6$promise$$internal$$fulfill(this.promise, this._result);\n        } else {\n          this.length = this.length || 0;\n          this._enumerate();\n          if (this._remaining === 0) {\n            lib$es6$promise$$internal$$fulfill(this.promise, this._result);\n          }\n        }\n      } else {\n        lib$es6$promise$$internal$$reject(this.promise, lib$es6$promise$enumerator$$validationError());\n      }\n    }\n\n    function lib$es6$promise$enumerator$$validationError() {\n      return new Error('Array Methods must be provided an Array');\n    }\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._enumerate = function() {\n      var length  = this.length;\n      var input   = this._input;\n\n      for (var i = 0; this._state === lib$es6$promise$$internal$$PENDING && i < length; i++) {\n        this._eachEntry(input[i], i);\n      }\n    };\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._eachEntry = function(entry, i) {\n      var c = this._instanceConstructor;\n      var resolve = c.resolve;\n\n      if (resolve === lib$es6$promise$promise$resolve$$default) {\n        var then = lib$es6$promise$$internal$$getThen(entry);\n\n        if (then === lib$es6$promise$then$$default &&\n            entry._state !== lib$es6$promise$$internal$$PENDING) {\n          this._settledAt(entry._state, i, entry._result);\n        } else if (typeof then !== 'function') {\n          this._remaining--;\n          this._result[i] = entry;\n        } else if (c === lib$es6$promise$promise$$default) {\n          var promise = new c(lib$es6$promise$$internal$$noop);\n          lib$es6$promise$$internal$$handleMaybeThenable(promise, entry, then);\n          this._willSettleAt(promise, i);\n        } else {\n          this._willSettleAt(new c(function(resolve) { resolve(entry); }), i);\n        }\n      } else {\n        this._willSettleAt(resolve(entry), i);\n      }\n    };\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._settledAt = function(state, i, value) {\n      var promise = this.promise;\n\n      if (promise._state === lib$es6$promise$$internal$$PENDING) {\n        this._remaining--;\n\n        if (state === lib$es6$promise$$internal$$REJECTED) {\n          lib$es6$promise$$internal$$reject(promise, value);\n        } else {\n          this._result[i] = value;\n        }\n      }\n\n      if (this._remaining === 0) {\n        lib$es6$promise$$internal$$fulfill(promise, this._result);\n      }\n    };\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._willSettleAt = function(promise, i) {\n      var enumerator = this;\n\n      lib$es6$promise$$internal$$subscribe(promise, undefined, function(value) {\n        enumerator._settledAt(lib$es6$promise$$internal$$FULFILLED, i, value);\n      }, function(reason) {\n        enumerator._settledAt(lib$es6$promise$$internal$$REJECTED, i, reason);\n      });\n    };\n    function lib$es6$promise$polyfill$$polyfill() {\n      var local;\n\n      if (typeof global !== 'undefined') {\n          local = global;\n      } else if (typeof self !== 'undefined') {\n          local = self;\n      } else {\n          try {\n              local = Function('return this')();\n          } catch (e) {\n              throw new Error('polyfill failed because global object is unavailable in this environment');\n          }\n      }\n\n      var P = local.Promise;\n\n      if (P && Object.prototype.toString.call(P.resolve()) === '[object Promise]' && !P.cast) {\n        return;\n      }\n\n      local.Promise = lib$es6$promise$promise$$default;\n    }\n    var lib$es6$promise$polyfill$$default = lib$es6$promise$polyfill$$polyfill;\n\n    var lib$es6$promise$umd$$ES6Promise = {\n      'Promise': lib$es6$promise$promise$$default,\n      'polyfill': lib$es6$promise$polyfill$$default\n    };\n\n    /* global define:true module:true window: true */\n    if (typeof define === 'function' && define['amd']) {\n      define(function() { return lib$es6$promise$umd$$ES6Promise; });\n    } else if (typeof module !== 'undefined' && module['exports']) {\n      module['exports'] = lib$es6$promise$umd$$ES6Promise;\n    } else if (typeof this !== 'undefined') {\n      this['ES6Promise'] = lib$es6$promise$umd$$ES6Promise;\n    }\n\n    lib$es6$promise$polyfill$$default();\n}).call(this);\n\n","!(function(win) {\n\n/**\n * FastDom\n *\n * Eliminates layout thrashing\n * by batching DOM read/write\n * interactions.\n *\n * @author Wilson Page <wilsonpage@me.com>\n * @author Kornel Lesinski <kornel.lesinski@ft.com>\n */\n\n'use strict';\n\n/**\n * Mini logger\n *\n * @return {Function}\n */\nvar debug = 0 ? console.log.bind(console, '[fastdom]') : function() {};\n\n/**\n * Normalized rAF\n *\n * @type {Function}\n */\nvar raf = win.requestAnimationFrame\n  || win.webkitRequestAnimationFrame\n  || win.mozRequestAnimationFrame\n  || win.msRequestAnimationFrame\n  || function(cb) { return setTimeout(cb, 16); };\n\n/**\n * Initialize a `FastDom`.\n *\n * @constructor\n */\nfunction FastDom() {\n  var self = this;\n  self.reads = [];\n  self.writes = [];\n  self.raf = raf.bind(win); // test hook\n  debug('initialized', self);\n}\n\nFastDom.prototype = {\n  constructor: FastDom,\n\n  /**\n   * Adds a job to the read batch and\n   * schedules a new frame if need be.\n   *\n   * @param  {Function} fn\n   * @public\n   */\n  measure: function(fn, ctx) {\n    debug('measure');\n    var task = !ctx ? fn : fn.bind(ctx);\n    this.reads.push(task);\n    scheduleFlush(this);\n    return task;\n  },\n\n  /**\n   * Adds a job to the\n   * write batch and schedules\n   * a new frame if need be.\n   *\n   * @param  {Function} fn\n   * @public\n   */\n  mutate: function(fn, ctx) {\n    debug('mutate');\n    var task = !ctx ? fn : fn.bind(ctx);\n    this.writes.push(task);\n    scheduleFlush(this);\n    return task;\n  },\n\n  /**\n   * Clears a scheduled 'read' or 'write' task.\n   *\n   * @param {Object} task\n   * @return {Boolean} success\n   * @public\n   */\n  clear: function(task) {\n    debug('clear', task);\n    return remove(this.reads, task) || remove(this.writes, task);\n  },\n\n  /**\n   * Extend this FastDom with some\n   * custom functionality.\n   *\n   * Because fastdom must *always* be a\n   * singleton, we're actually extending\n   * the fastdom instance. This means tasks\n   * scheduled by an extension still enter\n   * fastdom's global task queue.\n   *\n   * The 'super' instance can be accessed\n   * from `this.fastdom`.\n   *\n   * @example\n   *\n   * var myFastdom = fastdom.extend({\n   *   initialize: function() {\n   *     // runs on creation\n   *   },\n   *\n   *   // override a method\n   *   measure: function(fn) {\n   *     // do extra stuff ...\n   *\n   *     // then call the original\n   *     return this.fastdom.measure(fn);\n   *   },\n   *\n   *   ...\n   * });\n   *\n   * @param  {Object} props  properties to mixin\n   * @return {FastDom}\n   */\n  extend: function(props) {\n    debug('extend', props);\n    if (typeof props != 'object') throw new Error('expected object');\n\n    var child = Object.create(this);\n    mixin(child, props);\n    child.fastdom = this;\n\n    // run optional creation hook\n    if (child.initialize) child.initialize();\n\n    return child;\n  },\n\n  // override this with a function\n  // to prevent Errors in console\n  // when tasks throw\n  catch: null\n};\n\n/**\n * Schedules a new read/write\n * batch if one isn't pending.\n *\n * @private\n */\nfunction scheduleFlush(fastdom) {\n  if (!fastdom.scheduled) {\n    fastdom.scheduled = true;\n    fastdom.raf(flush.bind(null, fastdom));\n    debug('flush scheduled');\n  }\n}\n\n/**\n * Runs queued `read` and `write` tasks.\n *\n * Errors are caught and thrown by default.\n * If a `.catch` function has been defined\n * it is called instead.\n *\n * @private\n */\nfunction flush(fastdom) {\n  debug('flush');\n\n  var writes = fastdom.writes;\n  var reads = fastdom.reads;\n  var error;\n\n  try {\n    debug('flushing reads', reads.length);\n    runTasks(reads);\n    debug('flushing writes', writes.length);\n    runTasks(writes);\n  } catch (e) { error = e; }\n\n  fastdom.scheduled = false;\n\n  // If the batch errored we may still have tasks queued\n  if (reads.length || writes.length) scheduleFlush(fastdom);\n\n  if (error) {\n    debug('task errored', error.message);\n    if (fastdom.catch) fastdom.catch(error);\n    else throw error;\n  }\n}\n\n/**\n * We run this inside a try catch\n * so that if any jobs error, we\n * are able to recover and continue\n * to flush the batch until it's empty.\n *\n * @private\n */\nfunction runTasks(tasks) {\n  debug('run tasks');\n  var task; while (task = tasks.shift()) task();\n}\n\n/**\n * Remove an item from an Array.\n *\n * @param  {Array} array\n * @param  {*} item\n * @return {Boolean}\n */\nfunction remove(array, item) {\n  var index = array.indexOf(item);\n  return !!~index && !!array.splice(index, 1);\n}\n\n/**\n * Mixin own properties of source\n * object into the target.\n *\n * @param  {Object} target\n * @param  {Object} source\n */\nfunction mixin(target, source) {\n  for (var key in source) {\n    if (source.hasOwnProperty(key)) target[key] = source[key];\n  }\n}\n\n// There should never be more than\n// one instance of `FastDom` in an app\nvar exports = win.fastdom = (win.fastdom || new FastDom()); // jshint ignore:line\n\n// Expose to CJS & AMD\nif ((typeof define)[0] == 'f') define(function() { return exports; });\nelse if ((typeof module)[0] == 'o') module.exports = exports;\n\n})(this);\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n"]}